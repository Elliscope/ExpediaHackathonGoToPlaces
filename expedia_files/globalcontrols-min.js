"use strict";function createMarketingCookie(e,t,i,n,a){var r=e+"="+t+";";i&&(i instanceof Date?isNaN(i.getTime())&&(i=new Date):i=new Date((new Date).getTime()+1e3*parseInt(i)*60*60*24),r+="expires="+i.toGMTString()+";"),n&&(r+="path="+n+";"),a&&(r+="domain="+a+";"),document.cookie=r}function getMarketingCookie_unreliable(e){var t=new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g"),i=t.exec(document.cookie);return null===i?null:i[1]}function deleteMarketingCookie(e,t,i){createMarketingCookie(e,"",-1,t,i)}function setMarketingEAPID(e){var t=function(i,n){if(getMarketingCookie_unreliable("iEAPID")!=i){var a=getMarketingDomain();deleteMarketingCookie("iEAPID","/",a),createMarketingCookie("iEAPID",i,null,"/",a),n<5&&setTimeout(function(){t(e,n++)},1500)}};"undefined"!=typeof jQuery?jQuery(document).ready(function(){t(e,0)}):t(e,0)}function getMarketingDomain(){var e=location.href.match(/:\/\/(www\.)?([^\/:]+)/);return e>""&&(e=e[2]?e[2]:"",e="."+e),e}function logoutMarketingUser(){var e=getMarketingDomain();deleteMarketingCookie("linfo","/",e),deleteMarketingCookie("user","/",e),deleteMarketingCookie("minfo","/",e),deleteMarketingCookie("accttype","/",e),deleteMarketingCookie("iEAPID","/",e)}function buildTaapMdpcidValue(e,t,i){var n="WPK."+e+"."+t+"-"+i;return n}function buildDateYYYYMMDD(e){var t=new Date((new Date).setTime((new Date).getTime()+24*e*60*60*1e3)),i=t.getFullYear().toString(),n=(t.getMonth()+1).toString();n.length<2&&(n="0"+n);var a=t.getDate().toString();return a.length<2&&(a="0"+a),i+n+a}function setMarketingCidInASPP(e,t){var i=buildDateYYYYMMDD(30),n="v.1,0|"+t+"|||||||||"+e+"|"+i+"|";createMarketingCookie("aspp",n,null,"/",getMarketingDomain())}!function(e,t){var i=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var i=function(e,t,n){return 1===arguments.length?i.get(e):i.set(e,t,n)};return i._document=e.document,i._cacheKeyPrefix="cookey.",i._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),i.defaults={path:"/",secure:!1},i.get=function(e){i._cachedDocumentCookie!==i._document.cookie&&i._renewCache();var n=i._cache[i._cacheKeyPrefix+e];return n===t?t:decodeURIComponent(n)},i.set=function(e,n,a){return a=i._getExtendedOptions(a),a.expires=i._getExpiresDate(n===t?-1:a.expires),i._document.cookie=i._generateCookieString(e,n,a),i},i.expire=function(e,n){return i.set(e,t,n)},i._getExtendedOptions=function(e){return{path:e&&e.path||i.defaults.path,domain:e&&e.domain||i.defaults.domain,expires:e&&e.expires||i.defaults.expires,secure:e&&e.secure!==t?e.secure:i.defaults.secure}},i._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},i._getExpiresDate=function(e,t){if(t=t||new Date,"number"==typeof e?e=e===1/0?i._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!i._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},i._generateCookieString=function(e,t,i){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),i=i||{};var n=e+"="+t;return n+=i.path?";path="+i.path:"",n+=i.domain?";domain="+i.domain:"",n+=i.expires?";expires="+i.expires.toUTCString():"",n+=i.secure?";secure":""},i._getCacheFromString=function(e){for(var n={},a=e?e.split("; "):[],r=0;r<a.length;r++){var s=i._getKeyValuePairFromCookieString(a[r]);n[i._cacheKeyPrefix+s.key]===t&&(n[i._cacheKeyPrefix+s.key]=s.value)}return n},i._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var i,n=e.substr(0,t);try{i=decodeURIComponent(n)}catch(a){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+n+'"',a)}return{key:i,value:e.substr(t+1)}},i._renewCache=function(){i._cache=i._getCacheFromString(i._document.cookie),i._cachedDocumentCookie=i._document.cookie},i._areEnabled=function(){var e="cookies.js",t="1"===i.set(e,1).get(e);return i.expire(e),t},i.enabled=i._areEnabled(),i},n="object"==typeof e.document?i(e):i;"function"==typeof define&&define.amd?define("cookies",function(){return n}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=n),exports.Cookies=n):e.Cookies=n}("undefined"==typeof window?this:window),define("gc/abTestRegistry",["gc/abTestRegistryOverride","gc/errorLogging"],function(e,t){function i(e,t){for(var i={},n=e.length-1;n>=0;--n)i[e[n]]=e[n];for(var n=t.length-1;n>=0;--n)i[t[n]]=t[n];var a=[];for(var r in i)i.hasOwnProperty(r)&&a.push(i[r]);return a}try{var n=[3291,5435,6070,6260,6555,6655,7808,6696,6739,8071,8263,8445,8664,8773,8774,8812,9027,9109,9110,9241,9433,8160,9598,10614,10728,10967,10933,11054,11582,11680,11683,9326,10340,10339,10901,11237,10921,11776,8455,10341,10406,10120,11046,11100,11394,11841,11842,11872,11636,11877,11873,12234,12609,10188,12087,12963,12977,12978,11714,13056,13119,14318,12855,12571,13429,13430,13543,13716,13851,14261,13985,13986,14541,14592,14135,15252,14763,14764,15108,15190,14767,14693,15538,15174,15489,15714,15715,15749,15805,15904];return n=i(n,e)}catch(a){t.logError(a,"wizard","gc/abTestRegistryOverride","main")}}),define("gc/abTest",["jquery","gc/pageModel","cookies","gc/errorLogging","env"],function(e,t,i,n,a){function r(e){if("local"===a.version&&e.message&&e.message.type&&"undefined"!==console){var t=e.message.type;(t.indexOf("WARN")>-1||t.indexOf("ERROR")>-1)&&console.log("abTests error: ["+e.message.id+"] "+e.message.description)}}function s(e,t){return l+e+"?guid="+d.guid+"&tpid="+u+"&eapid="+p+"&id="+t}var o="/api/bucketing/v1/evaluateExperiments/",c="/api/bucketing/v1/evaluateExperimentsAndLog/",l="//"+window.location.host,d=t.user,u=t.site.tpid,p=t.site.eapid,g={};e.each(t.abTests,function(e,t){g[t.id]=t});var h={_abTestMap:g,_loggedTests:[],get:function(t,i,a){try{var c={id:t,value:0};if(!d.guid||!u||!t)return c;"string"==typeof t&&(t=parseInt(t));var l=!1;if(this._abTestMap[t]&&(c=this._abTestMap[t],l=!0),a)this.log(t,i);else if(l)"function"==typeof i&&i(c);else{var p=s(o,t);e.getJSON(p).then(function(e){r(e),e.evaluatedExperiments&&e.evaluatedExperiments.length>0&&(c=e.evaluatedExperiments[0],h._abTestMap[c.id]||(h._abTestMap[c.id]=c)),"function"==typeof i&&i(c)},r)}return c}catch(g){n.logError(g,"header","gc/abTest","get")}},log:function(t,i){var n=this;if(d.guid&&u&&t){"string"==typeof t&&(t=parseInt(t));var a={id:t,value:0},o=s(c,t);e.getJSON(o).then(function(e){if(r(e),e.evaluatedExperiments&&e.evaluatedExperiments.length>0&&(a=e.evaluatedExperiments[0],h._loggedTests[a.id]=a,h._abTestMap[a.id]||(h._abTestMap[a.id]=a)),"function"==typeof i){var t=i.toString(),s=n.loggingCallback.toString();t!=s&&i(a)}},r)}},override:function(e,t){var n=[e,"0",t].join("|"),a=_.compact([i.get("abov"),n]).join(":");i.set("abov",a)},loggingCallback:function(e){window.dctk&&window.dctk.onReady&&dctk.onReady(function(){e.tpid=u,e.eapid=p,e.guid=d.guid,delete e.name,dctk.logExperiment(e)})}};return h}),require(["jquery","gc/abTestRegistry","env","gc/errorLogging"],function(e,t,i,n){function a(e){var t,i=window.location.search,n=e+"=";return t=i.indexOf(n)>-1?"&"+n+i.split(n)[1].split("&")[0]:""}function r(e){try{var t=e;t.hasUser=function(){return!!t.user},t.isUserAnonymous=function(){return t.hasUser()&&t.user.userStatus&&t.user.userStatus.match(/^ANONYMOUS$/i)},t.isUserIdentified=function(){return t.hasUser()&&t.user.userStatus&&t.user.userStatus.match(/^(AUTHENTICATED|IDENTIFIED)$/i)},t.isUserAuthenticated=function(){return t.hasUser()&&t.user.userStatus&&t.user.userStatus.match(/^AUTHENTICATED$/i)},l=t}catch(i){n.logError(i,"pagemodel","gc/pageModel","buildPageModel")}}function s(){define("gc/pageModel",[],function(){return l})}function o(e,t,i){r(l),n.logError(i,"pagemodel","gc/pageModel","$.ajax","Ajax Failed: "+t+" : "+i),"undefined"!=typeof console&&console.warn("failed to get model.json: ["+t+"] ["+i+"]")}try{for(var c=a("langid")+a("locale"),l={site:{id:0,tpid:0,eapid:0,brandName:"",companyCode:0,defaultDomain:"",langId:0,locale:"",resolvedCurrency:"USD"},user:{guid:"",userStatus:"ANONYMOUS",hasGroups:!1,arranged:!1},abTests:[]},d=0;d<t.length;d++)c.indexOf(t[d])===-1&&(c+="&id="+t[d]);window.__pageModel?s(r(window.__pageModel)):e.ajax({url:"//"+window.location.host+"/gc/model.json",data:c,dataType:"json",cache:!1,timeout:i.pageModelTimeout}).done(r).fail(o).always(s)}catch(u){n.logError(u,"pagemodel","gc/pageModel","main")}}),require(["gc/pageModel","jquery"],function(e,t){var i=t("#header-container").data("tab");void 0!==i&&""!==i&&(t("ul.utility-nav > li").each(function(){t(this).removeClass("selected-tab")}),t("#"+i).addClass("selected-tab")),e.site&&e.site.resolvedCurrency&&(t("#header-currency-menu .selected-item").text(e.site.resolvedCurrency),t("#currency-"+e.site.resolvedCurrency).hide())}),function(){define("gc/sp-tray-item-prototype",["jquery"],function(e){return{set:function(e,t,i){this.attributes[e]&&this.attributes[e]===t||(this.attributes[e]=t,i&&this.updateDisplay())},get:function(e){var t=null;return this.attributes[e]&&(t=this.attributes[e]),t},localizedAsOfKey:function(){return"SHORT_TIME"===this.get("dateTimeFormatType")?"asOfTime":"asOfDate"},insertBefore:function(e){this.$el.insertBefore(e)},appendTo:function(e){e.append(this.$el)},removeFromTray:function(){this.$el.remove()},moveToIndex:function(e){this.trayIndex=e},updateDisplay:function(){var t=e(e.trim(this.template(this.attributes))).find(".item-link");this.$el.empty().html(t),1===this.trayIndex&&this.$el.addClass("first")}}})}(),function(){define("gc/sp-car-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(e,t,i){var n=function(e,t){var i="AIRPORT"==e.pickupRegionType?t.carsAt:t.carsNear;i=i.replace("{{destination}}",e.pickupLocation);var n='<li class="scratchpad-item"><a href="'+e.deepLink+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-carsalt"></span></span><h4 class="item-title">'+i+'</h4><p class="item-date">'+e.pickupDate+" - "+e.dropOffDate+'</p><p class="item-dummy item-nested"></p><div class="item-price-urgency"><strong class="price">'+e.price+"</strong>"+t.daily+'<p class="item-nested">'+e.lastSeen+"</p></div></div></a></li>";return n},a=function(t){var a=scratchpadTray.view.strings.item;this.trayIndex=t.trayIndex,this.template=n;var a=i.item;if(t.product){if(this.type="carSearch",this.attributes=t.carSearch,"AIRPORT"==this.get("pickupRegionType")?this.set("txtPreLocation",a.carsAt.replace("{{destination}}",this.get("pickupLocation"))):this.set("txtPreLocation",a.carsNear.replace("{{destination}}",this.get("pickupLocation"))),this.get("price")){var r=a.from.replace("{{itemPrice}}",this.get("price"));this.set("price",r),"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",a.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeen",a.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate")))}else this.set("price",""),this.set("lastSeen","See price");this.$el=e(e.trim(this.template(this.attributes,a)))}};return a.prototype=t,a})}(),function(){define("gc/sp-cruise-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(e,t,i){var n=function(e,t){var i=t.allDestinations;e.destination&&(i=e.destination);var n=t.allMonths;e.departureDate&&(n=e.departureDate);var a='<li class="scratchpad-item"><a href="'+e.deepLink+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-cruisealt"></span></span><h4 class="item-title">'+i+'</h4><p class="item-date">'+n+'</p><p class="item-dummy item-nested"></p><div class="item-price-urgency"><strong class="price">'+e.price+"</strong>"+t.perNight+'<p class="item-nested">'+e.lastSeen+"</p></div></div></a></li>";return a},a=function(t){var a=scratchpadTray.view.strings.item;this.trayIndex=t.trayIndex,this.template=n;var a=i.item;if(t.product){if(this.type="cruiseSearch",this.attributes=t.cruiseSearch,this.get("price")){var r=a.from.replace("{{itemPrice}}",this.get("price"));this.set("price",r),"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",a.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeen",a.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate")))}else this.set("price",""),this.set("lastSeen","See price");this.$el=e(e.trim(this.template(this.attributes,a)))}};return a.prototype=t,a})}(),function(){define("gc/sp-flight-details-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(e,t,i){var n=function(e,t){var i=e.legs.length,n="",a=0;for(a;a<i;a++){var r=e.legs[a],s="//images.trvl-media.com/media/content/expus/graphics/static_content/fusion/v0.1b/images/airlines/s/",o="multiple_airlines_logo",c=t.multiAirlineAltText,l=t.fromToAirports.replace("{{departureAirportCode}}",r.departureAirportCode).replace("{{arrivalAirportCode}}",r.arrivalAirportCode),d=t.fromToTime.replace("{{startTime}}",r.departureTime).replace("{{endTime}}",r.arrivalTime),u="";a>0&&(u=" item-group-gap");var p=r.numberOfDays?' <span class="number-of-days">+'+r.numberOfDays+"</span>":"";r.airlineImageFileName&&(o=r.airlineImageFileName,c=r.airlineName+t.airlineLogoAltText),s=s+o+"_sq.jpg",n=n+'<span class="item-img-icon'+u+'"><img src="'+s+'" alt="'+c+'" class="image" aspectRatio="1-1"></span><h4 class="item-title'+u+'">'+l+'</h4><p class="item-date"><span class="departure-date">'+r.departureDate+'</span><!----><span class="time-range">'+d+"</span>"+p+"</p>"}var g='<li class="scratchpad-item flight-detail"><a href="'+e.deepLinkUrl+'" class="item-link" data-onclick=""><div class="item-data">'+n+'<div class="item-price-urgency"><strong class="price">'+e.formattedPricePerPerson+'</strong><p class="item-nested">'+e.lastSeen+"</p></div></div></a></li>";return g},a=function(t){var a="",r=i.item;this.trayIndex=t.trayIndex,this.template=n,t.product&&(this.type="flightDetail",this.attributes=t.flightDetail,this.get("formattedPricePerPerson")?(this.set("price",this.get("formattedPricePerPerson")),"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",r.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeen",r.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate")))):(this.set("formattedPricePerPerson",""),this.set("lastSeen","See price")),a=/\?/.test(this.attributes.url)?"&":"?",this.set("rfrrString",a+"rfrr=SP.Tray."+this.trayIndex+".FD"),this.set("deepLinkUrl",this.get("url")+this.get("rfrrString")),this.$el=e(e.trim(this.template(this.attributes,r))))};return a.prototype=t,a})}(),function(){define("gc/sp-flight-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(e,t,i){var n=function(e,t){var i='<li class="scratchpad-item"><a href="'+e.deepLinkUrl+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-flightsalt"></span></span><h4 class="item-title">'+e.airportToAirport+'</h4><p class="item-date">'+e.departureDate+e.returnDate+'</p><p class="item-info item-nested">'+e.routeType+'</p><div class="item-price-urgency"><strong class="price">'+e.price+'</strong><p class="item-nested">'+e.lastSeen+"</p></div></div></a></li>";return i},a=function(t){var a="",r=i.item;if(this.trayIndex=t.trayIndex,this.template=n,t.product){this.type="flight",this.attributes=t.flight;var s=r.fromToAirports.replace("{{departureAirportCode}}",this.get("departureAirportCode")).replace("{{arrivalAirportCode}}",this.get("arrivalAirportCode"));if(this.set("airportToAirport",s),this.get("price")){"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",r.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeen"))):this.set("lastSeen",r.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeen")));var o=r.from.replace("{{itemPrice}}",this.get("price"));this.set("price",o)}else this.set("price",""),this.set("lastSeen","See price");if(a=/\?/.test(this.attributes.deepLinkUrl)?"&":"?",this.get("returnDate")?this.set("returnDate"," - "+this.get("returnDate")):this.set("returnDate",""),this.set("rfrrString",a+"rfrr=SP.Tray."+this.trayIndex+".FS"),this.set("deepLinkUrl",this.get("deepLinkUrl")+this.get("rfrrString")),this.get("routeType")){var c=this.get("routeType").replace("ROUND_TRIP",r.roundTrip).replace("ONE_WAY",r.oneWay);this.set("routeType",c)}this.$el=e(e.trim(this.template(this.attributes,r))),this.get("departureDate")?""===this.get("price")&&this.$el.addClass("priceless"):this.$el.addClass("dateless")}};return a.prototype=t,a})}(),function(){define("gc/sp-hotel-details-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(e,t,i){var n=function(e,t){var i='<li class="scratchpad-item"><a href="'+e.deepLinkUrl+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><img src="//images.trvl-media.com'+e.thumbnailUrl+'" alt="'+e.hotelName+'" class="image" aspectRatio="1-1"></span><h4 class="item-title">'+e.hotelName+'</h4><p class="item-date">'+e.checkInDate+" - "+e.checkOutDate+'</p><p class="item-watches item-nested">&nbsp;</p><div class="item-price-urgency"><strong class="price">'+e.price+'</strong><p class="item-nested">'+e.lastSeenDate+"</p></div></div></a></li>";return i},a=function(t){var a="",r=i.item;this.trayIndex=t.trayIndex,this.template=n,t.product&&(this.type="hotel",this.attributes=t.hotel,this.get("price")?"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeenDate",r.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeenDate",r.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate"))):(this.set("price",""),this.set("lastSeenDate",r.seePrice)),a=/\?/.test(this.get("deepLinkUrl"))?"&":"?",this.set("rfrrString",a+"rfrr=SP.Tray."+this.trayIndex+".HI"),this.set("deepLinkUrl",this.get("deepLinkUrl")+this.get("rfrrString")),this.get("thumbnailUrl")&&this.set("thumbnailUrl",this.get("thumbnailUrl").replace("_s","_t")),this.$el=e(e.trim(this.template(this.attributes,r))),this.get("checkInDate")&&this.get("checkOutDate")?""===this.get("price")&&this.$el.addClass("priceless"):this.$el.addClass("dateless"))};return a.prototype=t,a})}(),function(){define("gc/sp-hotel-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(e,t,i){var n=function(e,t){var i=e.amount?'<div class="item-price-urgency"><strong class="price">'+e.price+'</strong><p class="item-package-message">'+t.hotelSearchAvgPerNight+'</p><p class="item-nested">'+t.asOfDate.replace("{{lastSeenDate}}",e.lastSeenDate)+"</p></div>":"",n='<li class="scratchpad-item"><a href="'+e.deepLinkUrl+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-hotelsalt"></span></span><h4 class="item-title">'+t.hotels.replace("{{destination}}",e.destination)+'</h4><p class="item-date">'+t.fromToDate.replace("{{startDate}}",e.checkInDate).replace("{{endDate}}",e.checkOutDate)+'</p><p class="item-watches item-nested">&nbsp;</p>'+i+"</div></a></li>";return n},a=function(t){var a="",r=i.item;this.trayIndex=t.trayIndex,this.template=n,t.product&&(this.type="hotelSearch",this.attributes=t.hotelSearch,this.set("viewCount",0),a=/\?/.test(this.get("deepLinkUrl"))?"&":"?",this.set("rfrrString",a+"rfrr=SP.Tray."+this.trayIndex+".HS"),this.set("deepLinkUrl",this.get("deepLinkUrl")+this.get("rfrrString")),this.get("thumbnailUrl")&&this.set("thumbnailUrl",this.get("thumbnailUrl").replace("_s","_t")),this.$el=e(e.trim(this.template(this.attributes,r))))};return a.prototype=t,a})}(),function(){define("gc/sp-package-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(e,t,i){var n=function(e,t){var i=t.packageIncludes,n=t.packages.replace("{{packageDestination}}",e.packageDestination),a='<li class="scratchpad-item"><a href="'+e.deepLinkUrl+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-packagesalt"></span></span><h4 class="item-title">'+n+'</h4><p class="item-date item-nested">'+e.departureDate+e.returnDate+'</p><p class="item-info item-nested">'+i+'</p><div class="item-price-urgency"><strong class="price">'+e.price+'</strong><p class="item-package-message">'+t.perPerson+'</p><p class="item-package-message">'+e.lastSeen+'</p></div><span class="item-img-icon"></span></div></a></li>';return a},a=function(t){var a="",r=i.item;if(this.trayIndex=t.trayIndex,this.template=n,t.product){if(this.type="package",this.attributes=t.packages,this.get("price")){var s=r.from.replace("{{itemPrice}}",this.get("price"));"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",r.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeen"))):this.set("lastSeen",r.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeen"))),this.set("price",s)}else this.set("price",""),this.set("lastSeen","See price");this.get("returnDate")?this.set("returnDate"," - "+this.get("returnDate")):this.set("returnDate",""),a=/\?/.test(this.attributes.deepLinkUrl)?"&":"?",this.set("rfrrString",a+"rfrr=SP.Tray."+this.trayIndex+".PS"),this.set("deepLinkUrl",this.get("deepLinkUrl")+this.get("rfrrString")),this.$el=e(e.trim(this.template(this.attributes,r)))}};return a.prototype=t,a})}(),function(){define("gc/scratchpadtrayitem",["gc/sp-hotel-details-item","gc/sp-hotel-search-item","gc/sp-flight-details-item","gc/sp-flight-search-item","gc/sp-package-search-item","gc/sp-car-details-item","gc/sp-car-search-item","gc/sp-cruise-search-item","gc/sp-activity-search-item","gc/sp-activity-details-item"],function(e,t,i,n,a,r,s,o,c,l){var d={validateItemLob:function(e){return e.hasOwnProperty("product")},validateItemActionType:function(e){return e.hasOwnProperty("type")},buildCompoundItemType:function(e){return e.product+"-"+e.type}},u={isSourceDataValid:function(e){return d.validateItemLob(e)&&d.validateItemActionType(e)},determineSourceDataType:function(e){return this.isSourceDataValid(e)?d.buildCompoundItemType(e)||"NOT-FOUND":{}}};return function(d){var p={"HOTEL-DETAIL":e,"HOTEL-SEARCH":t,"AIR-DETAIL":i,"AIR-SEARCH":n,"PACKAGE-SEARCH":a,"CAR-DETAIL":r,"CAR-SEARCH":s,"CRUISE-SEARCH":o,"ACTIVITY-SEARCH":c,"ACTIVITY-DETAIL":l},g=u.determineSourceDataType(d);return new p[g](d)}})}(),function(e){/localhost/.test(window.location);define("gc/scratchpadtraycontroller",["gc/userhistoryapi","gc/scratchpadtrayitem","gc/abTest","uitk"],function(e,t,i,n){return{requiresHistory:!0,init:function(e){return this.view=e,this.buildRfrr().bindListeners().getCount()},buildRfrr:function(){var e=$("#header-history"),t=e.attr("href")+"?rfrr=SP.NoTray.SP";return e.attr("href",t),this},bindListeners:function(){var e=this;return this.view.on("click.tab",function(){e.logInteraction("Header.SP.Tray.Interaction")}),n.subscribe("sp:count:newCount",function(t,i){e.handleCountSuccess(i.response)}),n.subscribe("sp:count:fail",function(t,i){e.handleCountSuccess(i.response)}),this},getCount:function(){var t=i.get(15174,null,!0).value;return 0===t?e.getHistoryCount():this.handleCountFail(),this},handleCountSuccess:function(e){return e&&e.hasOwnProperty("count")?(this.view.badge.updateContent(e.count),$(".site-navigation .user-history-tab").css("margin-left","0px"),this):(this.handleCountFail(),this)},handleCountFail:function(){return this.view.badge.hide(),$(".site-navigation .user-history-tab").css("margin-left","0px"),this},logInteraction:function(e){return window.dctk&&window.dctk.onReady&&dctk.onReady(function(){dctk.omtr.eVar28=e,dctk.omtr.events="event80",dctk.omtr.linkTrackVars="eVar28,events",dctk.omtr.linkTrackEvents="event80,event81",dctk.omtr.tl(!0,"o","RFRR Action Link")}),this},logExperimentExposure:function(e,t){}}}),define("gc/scratchpadtrayview",["jquery","gc/abTest"],function(e,t){return{_callbacks:{},_$el:null,init:function(){return this._captureEls()._captureStrings()._captureTemplates()._bindClickHandlers()},on:function(e,t){return"function"==typeof t&&(this._callbacks[e]=this._callbacks[e]||[],this._callbacks[e].push(t)),this},trigger:function(e,t){for(var i=this._callbacks[e]||[],n=0;n<i.length;n++)i[n](t);return this},badge:{$el:null,strings:{},updateContent:function(t){return this._updateCount(t)._updateScreenReaderText(t),e(".site-navigation .user-history-tab").css("margin-left","0px"),this[t>0?"show":"hide"]()},show:function(){return this.$el.css("display","inline-block"),this},hide:function(){return this.$el.hide(),this},flareAnimation:function(){},bindClickHandlers:function(e){},unbindClickHandlers:function(){},_updateCount:function(e){return this.$el.find(".count").text(e),this},_updateScreenReaderText:function(e){var t=1===e?this.strings.badgeSRSingle:this.strings.badgeSRMany.replace("{{count}}",e);return this.$el.find(".badge-description").text(t),this}},navAnchor:{$el:null,bindClickHandlers:function(e,t){return t?this.bindFirstClickHandler(e):this.bindDefaultClickHandler(e),this},bindFirstClickHandler:function(e){var t=this,i=function(){e.trigger("click.tab.first"),t.bindDefaultClickHandler(e)};return this.$el.off("click").on("click",i),this},bindDefaultClickHandler:function(e){return this.$el.off("click").on("click",function(){e.trigger("click.tab")}),this}},menu:{_state:{loading:!0,items:[]},$el:null,updateItemList:function(e){e&&(this._state.items=this._state.items.concat(e));var t=this.$el.find(".item-list"),i=0,n=this._state.items.length;for(t.empty(),i;i<n;i++)this._state.items[i].appendTo(t);return this.showListState()},showLoadingState:function(){},hideLoadingState:function(e){return this._state.loading=!1,this.$el.find(".loading-wrapper").fadeOut("fast"),this.$el.find(".loader").removeClass("loading"),this.$el.find(".loading-message").fadeOut("fast",e),this},showEmptyState:function(){var e=this,t=function(){e.$el.find(".default-message").fadeIn()};return this.hideLoadingState(t),this},showListState:function(){var e=this,t=function(){e.$el.find(".item-list").fadeIn()};return this.hideLoadingState(t),this},bindClickHandlers:function(e){},unbindClickHandlers:function(){}},tooltip:{_state:{},$el:null,template:null,reRender:function(){},show:function(){},hide:function(){},updateContent:function(){}},_captureEls:function(){return this._$el=e(".user-history-tab.scratchpad"),this.navAnchor.$el=this._$el.find(".nav-tab"),this.badge.$el=this._$el.find(".sp-badge"),this.menu.$el=e(".menu"),this.tooltip.$el=e(""),this},_captureStrings:function(){return this.strings=JSON.parse(this._$el.attr("data-localized-content")),this.navAnchor.strings=this.strings.link,this.badge.strings=this.strings.badge,this.menu.strings=this.strings.menu,this.tooltip.strings=this.strings.tooltip,this},_captureTemplates:function(){return this.menu.template=e("").html(),this.tooltip.template=e("").html(),this},_bindClickHandlers:function(){return this.navAnchor.bindClickHandlers(this),this}}}),require(["gc/scratchpadtraycontroller","gc/scratchpadtrayview","jquery"],function(e,t,i){"complete"==document.readyState?window.scratchpadTray=e.init(t.init()):i(window).on("load",function(){window.scratchpadTray=e.init(t.init())})}),require(["gc/abTest","jquery","gc/errorLogging","gc/headerMessages"],function(e,t,i,n){t(function(){if(t(".user-history-tab.scratchpad").length>0&&t(".user-history-tab.scratchpad").attr("data-localized-content"))try{JSON.parse(t(".user-history-tab").attr("data-localized-content"));if(t(".view-all-history.item-link").length>0){var a=t(".view-all-history.item-link");a.text(n.spViewscratchpadlink)}if(t(".greeting-message.loading-message").length>0){var r=t(".greeting-message.loading-message");r.text(n.spLoadingGreeting)}if(t(".sp-name").length>0){var s=t(".sp-name"),o=e.get(15174,null,!0).value,c="spHeaderLink";o>0&&(1!=o&&2!=o||(c="spHeaderVariantLink"),1!=o&&3!=o||s.before('<span class="icon icon-heart"></span>&nbsp;')),s.text(n[c])}}catch(l){i.logError(l,"header","gc/scratchpadBranding","getScratchpadBranding")}})})}(window),function(){var e={};require("jquery",function(t){t(".user-history-tab.scratchpad").length>0&&t(".user-history-tab.scratchpad").attr("data-localized-content")&&(e=JSON.parse(t(".user-history-tab.scratchpad").attr("data-localized-content")),define("gc/sp-tray-strings",[],function(){return e}))})}(),function(){var e={currentPath:window.location,defaultId:"-1",jsonpSuffix:"&format=jsonp&callback=?",prodCountEndpoint:"/userHistory/count?",labCountEndpoint:"/userHistory/count?",prodHistoryEndpoint:"/api/userhistory?",labHistoryEndpoint:"/api/userhistory?",lobQuery:function(e){return 1===e?"&lobs=HOTEL_DETAIL&lobs=HOTEL_SEARCH&lobs=AIR_SEARCH&lobs=AIR_DETAIL&lobs=CAR_SEARCH&lobs=CAR_DETAIL&lobs=PACKAGE_SEARCH&lobs=CRUISE_SEARCH&lobs=ACTIVITY_SEARCH&lobs=ACTIVITY_DETAIL":"&lobs=HOTEL_DETAIL&lobs=HOTEL_SEARCH&lobs=AIR_SEARCH&lobs=AIR_DETAIL&lobs=CAR_SEARCH&lobs=PACKAGE_SEARCH&lobs=CRUISE_SEARCH&lobs=ACTIVITY_SEARCH&lobs=ACTIVITY_DETAIL"}},t={isLab:function(e){return/trunk/.test(e.hostname)},formatGuid:function(e){return 5===e.split("-").length?e:[e.substring(0,8),e.substring(8,12),e.substring(12,16),e.substring(16,20),e.substring(20)].join("-")},userIsAnon:function(e){return"ANONYMOUS"===e.userStatus},userHasGuid:function(e){return e.hasOwnProperty("guid")},userHasTuid:function(e){return e.hasOwnProperty("tuid")&&e.tuid>0},userHasExpuid:function(e){return e.hasOwnProperty("expUserId")},envCountEndpoint:function(t){return t?e.labCountEndpoint:e.prodCountEndpoint},envHistoryEndpoint:function(t){return t?e.labHistoryEndpoint:e.prodHistoryEndpoint},makeGuidParamString:function(e,t){return t?"":"&guid="+e},makeTuidParamString:function(e){return"&tuid="+e},makeExpuidParamString:function(e){return"&expuserid="+e},makeLimitParamString:function(e){return"l="+(e||5)},makeSiteIdParamString:function(e){return"&siteid="+e},extendRequestObjWithDefaults:function(e){return{url:e,timeout:5e3}},extendRequestObjWithJSONP:function(t){return{url:t+e.jsonpSuffix,dataType:"jsonp",timeout:5e3}}},i={getUserExpuid:function(i){return t.userHasExpuid(i.user)?i.user.expUserId:e.defaultId},getUserTuid:function(i){return t.userHasTuid(i.user)?i.user.tuid:e.defaultId},getUserGuid:function(i){return t.userHasGuid(i.user)?t.formatGuid(i.user.guid):e.defaultId},buildCountEndpoint:function(i,n,a){return[t.envCountEndpoint(t.isLab(e.currentPath)),t.makeGuidParamString(this.getUserGuid(i),t.userHasTuid(i.user)),t.makeTuidParamString(this.getUserTuid(i)),t.makeExpuidParamString(this.getUserExpuid(i)),t.makeSiteIdParamString(n.siteId),e.lobQuery(a)].join("")},buildHistoryEndpoint:function(i,n,a,r){return[t.envHistoryEndpoint(t.isLab(e.currentPath)),t.makeLimitParamString(i),t.makeGuidParamString(this.getUserGuid(n),t.userHasTuid(n.user)),t.makeTuidParamString(this.getUserTuid(n)),t.makeExpuidParamString(this.getUserExpuid(n)),t.makeSiteIdParamString(a.siteId),e.lobQuery(r)].join("")}};define("gc/userhistoryapi",["uitk","jquery","gc/pageModel","env","gc/abTest"],function(e,n,a,r,s){return{getHistoryCount:function(){return this._makeNormalRequest(i.buildCountEndpoint(a,r,s.get(10044).value)).done(function(t){e.publish("sp:count:newCount",{src:this,response:t})}).fail(function(t){e.publish("sp:count:fail",{src:this,response:t})}),this},_makeNormalRequest:function(e){return n.ajax(t.extendRequestObjWithDefaults(e))},_makeJSONPRequest:function(e){return n.ajax(t.extendRequestObjWithJSONP(e))}}})}(),function(){define("gc/alertmenu-templates",["handlebars","gc/alertmenu-strings"],function(e,t){return{SPHCONEUPONLYV2:void 0!==t.scratchpadPriceChanges?e.compile("<div class='alert-icon up'><img src='/static/default/default/images/scratchpad/alerts-up-2x.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.scratchpadPriceChanges.changes+" "+t.scratchpadPriceChanges.upOne+" <a href='/scratchpad?rfrr=Header.Notif.SPNews' data-action='spDetailedNews'>"+t.scratchpadPriceChanges.details+"</a></div></div>"):null,SPHCUPONLYV2:void 0!==t.scratchpadPriceChanges?e.compile("<div class='alert-icon up'><img src='/static/default/default/images/scratchpad/alerts-up-2x.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.scratchpadPriceChanges.changes+" "+t.scratchpadPriceChanges.upMany+" <a href='/scratchpad?rfrr=Header.Notif.SPNews' data-action='spDetailedNews'>"+t.scratchpadPriceChanges.details+"</a></div></div>"):null,
SPHCONEDOWNONLYV2:void 0!==t.scratchpadPriceChanges?e.compile("<div class='alert-icon down'><img src='/static/default/default/images/scratchpad/alerts-down-2x.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.scratchpadPriceChanges.changes+" "+t.scratchpadPriceChanges.downOne+" <a href='/scratchpad?rfrr=Header.Notif.SPNews' data-action='spDetailedNews'>"+t.scratchpadPriceChanges.details+"</a></div></div>"):null,SPHCDOWNONLYV2:void 0!==t.scratchpadPriceChanges?e.compile("<div class='alert-icon down'><img src='/static/default/default/images/scratchpad/alerts-down-2x.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.scratchpadPriceChanges.changes+" "+t.scratchpadPriceChanges.downMany+" <a href='/scratchpad?rfrr=Header.Notif.SPNews' data-action='spDetailedNews'>"+t.scratchpadPriceChanges.details+"</a></div></div>"):null,SPHCBOTHONEV2:void 0!==t.scratchpadPriceChanges?e.compile("<div class='alert-icon up-and-down'><img src='/static/default/default/images/scratchpad/alerts-up-down.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.scratchpadPriceChanges.changes+" "+t.scratchpadPriceChanges.downOneUpOne+" <a href='/scratchpad?rfrr=Header.Notif.SPNews' data-action='spDetailedNews'>"+t.scratchpadPriceChanges.details+"</a></div></div>"):null,SPHCONEUPV2:void 0!==t.scratchpadPriceChanges?e.compile("<div class='alert-icon up-and-down'><img src='/static/default/default/images/scratchpad/alerts-up-down.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.scratchpadPriceChanges.changes+" "+t.scratchpadPriceChanges.downManyUpOne+" <a href='/scratchpad?rfrr=Header.Notif.SPNews' data-action='spDetailedNews'>"+t.scratchpadPriceChanges.details+"</a></div></div>"):null,SPHCONEDOWNV2:void 0!==t.scratchpadPriceChanges?e.compile("<div class='alert-icon up-and-down'><img src='/static/default/default/images/scratchpad/alerts-up-down.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.scratchpadPriceChanges.changes+" "+t.scratchpadPriceChanges.downOneUpMany+" <a href='/scratchpad?rfrr=Header.Notif.SPNews' data-action='spDetailedNews'>"+t.scratchpadPriceChanges.details+"</a></div></div>"):null,SPHCV2:void 0!==t.scratchpadPriceChanges?e.compile("<div class='alert-icon up-and-down'><img src='/static/default/default/images/scratchpad/alerts-up-down.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.scratchpadPriceChanges.changes+" "+t.scratchpadPriceChanges.downManyUpMany+" <a href='/scratchpad?rfrr=Header.Notif.SPNews' data-action='spDetailedNews'>"+t.scratchpadPriceChanges.details+"</a></div></div>"):null,spSignIn:void 0!==t.defaultAlerts?e.compile("<div class='alert-body centered'><div class='alert-message'>"+t.defaultAlerts.greeting+"<br><a href='/user/login?&ckoflag=0' data-action='spSignIn'>"+t.defaultAlerts.signIn+"</a></div></div>"):null,spNudgeEnroll:void 0!==t.nudgeEnrollment?e.compile("<div class='alert-icon'><img src='/static/default/default/images/scratchpad/alerts-mail-72.png' alt=''></div></div><div class='alert-body'><div class='alert-message'>"+t.nudgeEnrollment.title+" "+t.nudgeEnrollment.subtitle+" <a class='spAccessibleButtonLink' href='javascript:void(0)' data-action='spNudgeEnroll' data-trigger-delete='false'>"+t.nudgeEnrollment.action+"</a></div></div>"):null,spBasicNews:void 0!==t.defaultAlerts?e.compile("<div class='alert-icon updown'><img src='/static/default/default/images/scratchpad/alerts-up-down.png' alt=''></div><div class='alert-body'><div class='alert-message'><b>"+t.defaultAlerts.somethingChanged+"</b> "+t.defaultAlerts.foundUpdates+" <a href='/scratchpad?rfrr=Header.Notif.SP' data-action='spBasicNews'>"+t.defaultAlerts.whatChanged+"</a></div></div>"):null,itinBouncedEmail:void 0!==t.itin?e.compile("<div class='alert-icon'><img src='/static/default/default/images/scratchpad/alerts-yellowalert-2x.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.itin.bouncedEmail+" <a href='/trips'>"+t.itin.bouncedEmailLink+"</a></div></div>"):null,HOTELCOUPONAVAILABILITYV1:void 0!==t.rewards?e.compile("<div class='alert-icon'><img src='https://thumbnails.trvl-media.com/PBU_e5sdHr1e_a6ohXyMC7EmG2c=/images.trvl-media.com/media/content/expus/graphics/other/rewards/icons/rewards-notification-pluses.png' alt=''></div></div><div class='alert-body'><div class='alert-message'>"+t.rewards.hotelCouponAvailability+" <a href='/Hotels?rfrr=Header.Notif.Rewards.ShopHotels'>"+t.rewards.hotelCouponAvailabilityLink+"</a></div></div>"):null,HOTELCOUPONAVAILABILITYV2:void 0!==t.rewards?e.compile("<div class='alert-icon'><img src='https://thumbnails.trvl-media.com/PBU_e5sdHr1e_a6ohXyMC7EmG2c=/images.trvl-media.com/media/content/expus/graphics/other/rewards/icons/rewards-notification-pluses.png' alt=''></div></div><div class='alert-body'><div class='alert-message'>"+t.rewards.hotelCouponAvailability+" <a href='/Hotels?rfrr=Header.Notif.Rewards.ShopHotels' target='_blank'>"+t.rewards.hotelCouponAvailabilityLink+"</a></div></div>"):null,VIPCOUPONAVAILABILITYV1:void 0!==t.rewards?e.compile("<div class='alert-icon'><img src='https://thumbnails.trvl-media.com/PBU_e5sdHr1e_a6ohXyMC7EmG2c=/images.trvl-media.com/media/content/expus/graphics/other/rewards/icons/rewards-notification-pluses.png' alt=''></div></div><div class='alert-body'><div class='alert-message'>"+t.rewards.VIPCouponAvailability+" <a href='/rewards/vipaccess?rfrr=Header.Notif.Rewards.ShopVIPHotels'>"+t.rewards.VIPCouponAvailabilityLink+"</a></div></div>"):null,VIPCOUPONAVAILABILITYV2:void 0!==t.rewards?e.compile("<div class='alert-icon'><img src='https://thumbnails.trvl-media.com/PBU_e5sdHr1e_a6ohXyMC7EmG2c=/images.trvl-media.com/media/content/expus/graphics/other/rewards/icons/rewards-notification-pluses.png' alt=''></div></div><div class='alert-body'><div class='alert-message'>"+t.rewards.VIPCouponAvailability+" <a href='/rewards/vipaccess?rfrr=Header.Notif.Rewards.ShopVIPHotels' target='_blank'>"+t.rewards.VIPCouponAvailabilityLink+"</a></div></div>"):null,HOTELCOUPONEXPIRATIONV1:void 0!==t.rewards?e.compile("<div class='alert-icon'><img src='https://thumbnails.trvl-media.com/5I06PHhATI0lXQEOx2vVAuafZFs=/images.trvl-media.com/media/content/expus/graphics/other/rewards/icons/rewards-notification-warning.png' alt=''></div></div><div class='alert-body'><div class='alert-message'>"+t.rewards.hotelCouponExpirationV1+" <a href='/Hotels?rfrr=Header.Notif.Rewards.ShopHotelsExpiring'>"+t.rewards.hotelCouponAvailabilityLink+"</a></div></div>"):null,HOTELCOUPONEXPIRATIONV2:void 0!==t.rewards?e.compile("<div class='alert-icon'><img src='https://thumbnails.trvl-media.com/5I06PHhATI0lXQEOx2vVAuafZFs=/images.trvl-media.com/media/content/expus/graphics/other/rewards/icons/rewards-notification-warning.png' alt=''></div></div><div class='alert-body'><div class='alert-message'>"+t.rewards.hotelCouponExpirationV2+" <a href='/user/account?selc=coupons&rfrr=Header.Notif.Rewards.VisitAcct'>"+t.rewards.hotelCouponExpirationLinkV2+"</a></div></div>"):null,CHROMEEXTENSIONNEWS:void 0!==t.chromeExtensionNotification?e.compile("<div class='alert-icon'><img src='https://thumbnails.trvl-media.com/0Dbq7G_eeuZEw2EOaZ1-vKCQafs=/images.trvl-media.com/media/content/shared/graphics/icons/chrome-web-store_icon_2x.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.chromeExtensionNotification.message+" <a id='extension-install-launch' href='javascript:void(0)' data-action='addChromeExtension' data-trigger-delete='true'>"+t.chromeExtensionNotification.link+"</a></div></div>"):null,AARPMEMBERLINK:void 0!==t.brandMessages?e.compile("<div class='alert-icon' style='color:green'><span class='icon icon-infoalt' aria-hidden='true'></span></div><div class='alert-body'><div class='alert-message'>"+t.brandMessages.switchToAarp+"</div></div>"):null,TAAPWELCOMEMESSAGE:void 0!==t.taapMessages?e.compile("<div class='taap-news-wrapper'><div class='taap-logo-white-icon'><span class='taap-center-helper'></span><img class='taap-logo' src='https://thumbnails.trvl-media.com/UYEB4tK2ze2ZFSagjOgxDuzbdvg=/images.trvl-media.com/media/content/expus/graphics/taap/taap-logo-white_40.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.taapMessages.welcomeMessage+" <a href='/TAAP-LearnMore?rfrr=Header.Notif.TAAPWelcome'>"+t.taapMessages.welcomeMessageLink+"</a></div></div></div>"):null,TAAPGBVREMAININGNEWSSILVER:void 0!==t.taapMessages?e.compile("<div class='taap-news-wrapper'><div class='taap-logo-white-icon'><span class='taap-center-helper'></span><img class='taap-logo' src='https://thumbnails.trvl-media.com/UYEB4tK2ze2ZFSagjOgxDuzbdvg=/images.trvl-media.com/media/content/expus/graphics/taap/taap-logo-white_40.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.taapMessages.gbvRemainingMessageSilver+" <a href='/TAAP/IncentivePlan?rfrr=Header.Notif.TAAPGBVNextTier'>"+t.taapMessages.gbvRemainingLink+"</a></div></div></div>"):null,TAAPGBVREMAININGNEWSGOLD:void 0!==t.taapMessages?e.compile("<div class='taap-news-wrapper'><div class='taap-logo-white-icon'><span class='taap-center-helper'></span><img class='taap-logo' src='https://thumbnails.trvl-media.com/UYEB4tK2ze2ZFSagjOgxDuzbdvg=/images.trvl-media.com/media/content/expus/graphics/taap/taap-logo-white_40.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.taapMessages.gbvRemainingMessageGold+" <a href='/TAAP/IncentivePlan?rfrr=Header.Notif.TAAPGBVNextTier'>"+t.taapMessages.gbvRemainingLink+"</a></div></div></div>"):null,TAAPGBVREMAININGNEWSPLATINUM:void 0!==t.taapMessages?e.compile("<div class='taap-news-wrapper'><div class='taap-logo-white-icon'><span class='taap-center-helper'></span><img class='taap-logo' src='https://thumbnails.trvl-media.com/UYEB4tK2ze2ZFSagjOgxDuzbdvg=/images.trvl-media.com/media/content/expus/graphics/taap/taap-logo-white_40.png' alt=''></div><div class='alert-body'><div class='alert-message'>"+t.taapMessages.gbvRemainingMessagePlatinum+" <a href='/TAAP/IncentivePlan?rfrr=Header.Notif.TAAPGBVNextTier'>"+t.taapMessages.gbvRemainingLink+"</a></div></div></div>"):null,FLIGHTMIPACTIVITYELIGIBIITY:void 0!==t.lxmip?e.compile("<div class='alert-icon mip-lx'><img src='/static/default/default/images/crossSell/activity_bell.png' alt=''></div></div><div class='alert-body'><div class='alert-message'>"+t.lxmip.lxFlightMIPActivityMsg+"<br><a href='/Activities' data-action='flightMIPActivity'>"+t.lxmip.lxFlightMIPActivityMsgCTC+"</a></div></div>"):null,FLIGHTMIPGTELIGIBIITY:void 0!==t.lxmip?e.compile("<div class='alert-icon'><img src='/static/default/default/images/crossSell/busBellImage.png' alt=''></div></div><div class='alert-body'><div class='alert-message'>"+t.lxmip.lxFlightMIPGTMsg+"<br><a href='/lx/groundTransfers' data-action='flightMIPGT'>"+t.lxmip.lxFlightMIPGTMsgCTC+"</a></div></div>"):null}})}(),function(){var e={};require("jquery",function(t){t("#user-alerts-menu").length>0&&t("#user-alerts-menu").attr("data-localized-content")&&(e=JSON.parse(t("#user-alerts-menu").attr("data-localized-content")),define("gc/alertmenu-strings",[],function(){return e}))})}(),function(){define("gc/alertmenu-view",["jquery","gc/pageModel","uitk"],function(e,t,i){return{state:{legacyMode:!1},$els:{headerBadge:null,menuWrapper:null,menuElement:null,scrollable:null},init:function(t){return this.controller=t,this.$els.menuWrapper=e("#user-alerts-menu"),this.$els.menuElement=this.$els.menuWrapper.find('[data-control="menu"]'),this.state.legacyMode=!(i&&i.version&&"v2"===i.version.split(".")[0]),this.becomeMenu(),this},reRender:function(){this.empty();var e="",t=this.controller.getAlerts(),i=0,n=this.controller.count();for(i;i<n;i++)e+=t[i].toDisplayString();return this.fill(e),this.updateBadge(n),this._bindNewAlertLinks(this.state.legacyMode),this._bindNewAlertCloseButtons(this.state.legacyMode),this},toggle:function(){return this.$els.menuWrapper.find(".menu").parent().hasClass("open")?this.close():this.open(),this},open:function(e){var t=this.state.legacyMode?"0.5em":"-171.5px";return this.$els.menuWrapper.find(".menu").css({right:t}).parent().addClass("open"),e?this.controller.sendeVar28("Header.Notif.MenuAuto"):this.controller.sendeVar28("Header.Notif.MenuOpen"),this},close:function(){var e=this.state.legacyMode?"0.5em":"-195.5px";return this.$els.menuWrapper.find(".menu").css({right:e}).parent().removeClass("open"),this.$els.menuWrapper.find(".bell-trigger-link").attr("aria-expanded","false"),this.$els.menuWrapper.focus(),this.controller.sendeVar28("Header.Notif.MenuClose"),this},empty:function(){return this.$els.scrollable.find(".alert-item:not(.default-alert-item)").remove(),this.$els.scrollable.find(".default-alert-item").show(),this},fill:function(t){var i=this.$els.scrollable.find(".default-alert-item"),n=0,a=this.controller.count(),r={};for(e(t).insertBefore(i),n;n<a;n++)r=this.controller.at(n),r.$el=e("#"+r.uniqueId);return this},becomeMenu:function(){var t=this;return this.state.legacyMode&&this.$els.menuWrapper.addClass("legacy"),e(".alerts-display-wrapper").show(),e(".alerts-display-wrapper").attr("aria-hidden","false"),this.$els.scrollable=this.$els.menuWrapper.find(".scrollable"),this.$els.headerBadge=this.$els.menuWrapper.find(".badge"),this.$els.headerBadge.click(function(i){i.preventDefault(),i.stopPropagation(),e(".shop-nav > li").removeClass("open"),t.toggle()}),this.$els.menuWrapper.addClass("visible"),this.$els.menuElement.click(function(){t.$els.menuElement.parent().hasClass("open")?t.controller.sendeVar28("Header.Notif.MenuClose"):t.controller.sendeVar28("Header.Notif.MenuOpen")}),this.updateBadge(this.controller.count()),e(".alerts-display-wrapper").show(),e(".alerts-display-wrapper").attr("aria-hidden","false"),this._bindNewAlertLinks(this.state.legacyMode),this},updateBadge:function(t){return t=t||this.controller.count(),t||0===t||(t=this.controller.count()),t>0?(this.$els.headerBadge.html(t).show(),1==t?e("#accessibleBadge").html(window.accessibleBadgeMessage).attr("aria-hidden","false"):e("#accessibleBadge").html(window.accessibleBadgeMessagePlural.replace("####",t)).attr("aria-hidden","false")):(this.$els.headerBadge.hide(),e("#accessibleBadge").html(window.accessibleBadgeMessagePlural.replace("####",t)).attr("aria-hidden","false")),this},_bindNewAlertLinks:function(i){var n=this;return"ANONYMOUS"!==t.user.userStatus&&(e(".spAccessibleButtonLink").attr("role","button"),e(".spAccessibleButtonLink").on("keypress",function(t){32===t.which&&(t.preventDefault(),e(this).trigger("click"))})),this.$els.menuWrapper.find(".alert-message a:not(.bound)").addClass("bound").click(function(t){var i=e(this),a=window.alertMenuClickHandlers[i.attr("data-action")],r=i.closest(".alert-item").attr("id"),s=n.controller.pluckAlertByUniqueId(r);n.controller.sendeVar28("Header.Notif.CTAClick"),e.isFunction(a)&&a(t,s),"false"!==i.attr("data-trigger-delete")&&(s.deleteSelf(!0),n.close().updateBadge(n.controller.count()))}),this},_bindNewAlertCloseButtons:function(t){var i=this;return this.$els.menuWrapper.find(".close-button button:not(.bound)").addClass("bound").click(function(t){t.preventDefault(),t.stopPropagation();var n=e(this).closest(".alert-item").attr("id"),a=i.controller.pluckAlertByUniqueId(n);i.controller.sendeVar28("Header.Notif.Dismiss."+a.raw.msgid),a.deleteSelf(!0),i.close().updateBadge(i.controller.count())}),this},_bindTempNewAlertButtons:function(t){var i=this;return this.$els.menuWrapper.find(".btn-close:not(.bound)").addClass("bound").click(function(t){t.preventDefault(),t.stopPropagation();var n=e(this).closest(".alert-item").attr("id"),a=i.controller.pluckAlertByUniqueId(n);i.controller.sendeVar28("Header.Notif.Dismiss."+a.raw.msgid),a.deleteSelf(!0),i.close().updateBadge(i.controller.count())}),this.$els.menuWrapper.find(".alert-message a:not(.bound)").addClass("bound").click(function(t){t.preventDefault(),t.stopPropagation();var n=e(this),a=window.alertMenuClickHandlers[n.attr("data-action")],r=n.closest(".alert-item").attr("id"),s=i.controller.pluckAlertByUniqueId(r);i.controller.sendeVar28("Header.Notif.SP"),e.isFunction(a)&&a(t,s),"false"!==n.attr("data-trigger-delete")&&(s.deleteSelf(!0),i.close().updateBadge(i.controller.count()))}),this}}})}(),function(){var e=50;define("gc/alertmenu",["jquery","uitk","gc/pageModel","env","gc/alertmenu-item-model","gc/alertmenu-view","gc/abTest"],function(t,i,n,a,r,s,o){return{menuView:s,_alerts:[],_endpoints:{userAlertsService:"/news/v1",expwebDelete:"/api/userhistory/clearNews",scratchpadOptions:"/api/userhistory/options",sendMeNotes:"/sendmenotes",loginRedirect:"/user/login?ckoflag=0&hsuc=&fram=&uurl=qscr%3Dredr%26rurl%3D%2Fscratchpad%3FsendMeNotes%3Dtrue"},omLock:!0,queuedOmPixels:[],init:function(){var e=this;return this.menuView.init(this),this.enableListeners(),setTimeout(function(){e.omLock=!1,e.sendQueuedOmPixels()},1e3),this.fetchAndDisplayAlerts(!0),this.wotifCheck().detectIE11(),this},enableListeners:function(){var e=this;i.subscribe("alerts:empty",function(){e.getUserFlags()})},fetchAndDisplayAlerts:function(e){var t=this;this._getAlerts().then(function(n){t._unpackRawAlertData(n,e),0===t._alerts.length&&i.publish("alerts:empty"),t.addLXMipAlertOmniture(),t.menuView.reRender()}).fail(function(){i.publish("alerts:empty")})},getAlerts:function(){return this._alerts},count:function(){return this._alerts.length},at:function(e){return e=e||0,this._alerts[e]},addLXMipAlertOmniture:function(){var e=o.get(11405,null,!0).value;window.dctk&&window.dctk.onReady&&e&&dctk.onReady(function(){var t=dctk.omtr.pageName;1===e?dctk.omtr.eVar43="MIP.LX.Bell."+t+".FLIGHT-MIP":2===e?dctk.omtr.eVar43="MIP.GT.Bell."+t+".FLIGHT-MIP":dctk.omtr.eVar43="MIP.LX-GT.Bell."+t+".FLIGHT-MIP"})},removeDuplicateAlerts:function(e){var t={};return e.filter(function(e){var i=[e.raw.msgid,e.raw.params];return!t.hasOwnProperty(i)&&(t[i]=!0)})},wotifCheck:function(){return/wotif/.test(window.location.href)&&t(".alerts-display-wrapper").addClass("isWotif"),this},detectIE11:function(){return/Trident.*rv[ :]*11\./.test(navigator.userAgent)&&t(".alert-menu-wrapper").addClass("ie11"),this},getUserFlags:function(){var e=this;return this._request(this._endpoints.scratchpadOptions,"json").then(function(t){e.determineAdditionalUserMessagingFromOptions(t)}).fail(function(){})},determineAdditionalUserMessagingFromOptions:function(e){if(e&&"SUCCESS"==e.status&&e.scratchpadUserOptions){var t={},i=this.getLocalFlag("scratchpadDeclineNotesInTray"),r=this.getLocalFlag("scratchpadDeclineSaveInTray"),s="ANONYMOUS"==n.user.userStatus&&!r&&"en_US"!==a.locale,o="en_US"===a.locale&&e.scratchpadUserOptions.anyNews,c=!i&&"en_US"===a.locale&&!o&&!e.scratchpadUserOptions.sendNotes;if(c?t.promptType="notes":s?t.promptType="save":o&&(t.promptType="news"),t.promptType&&"default"!==t.promptType){var l={news:"spBasicNews",notes:"spNudgeEnroll",save:"spSignIn"}[t.promptType];this.addLateAlert({newsFeedType:"scratchpadLegacyAlert",msgid:l,params:[]})}else t.promptType}return this},addLateAlert:function(t){return 0===this.count()&&this._alerts.push(new r({newsFeedType:t.newsFeedType||"Bad type",_uid:t._uid||++e,msgid:t.msgid||"error",params:t.params||[]})),this.menuView.reRender(),this._alerts},pluckAlertByUniqueId:function(e){var t=0,i=this._alerts.length;for(t;t<i;t++)if(this._alerts[t].uniqueId===e)return this._alerts.splice(t,1)[0];return!1},sendeVar28:function(e){return this.omLock?this.queuedOmPixels.push(e):window.dctk&&dctk.onReady?dctk.onReady(function(){dctk.trackImpression("APE:"+e)}):window.s_exp&&window.s_exp.tl&&(s_exp.eVar28="APE:"+e,s_exp.linkTrackVars="eVar28,events",s_exp.linkTrackEvents="event80,event81",s_exp.tl(!0,"o","RFRR Action Link")),this},sendQueuedOmPixels:function(){for(var e=0;e<this.queuedOmPixels.length;e++)this.sendeVar28(this.queuedOmPixels[e]);return this.queuedOmPixels=[],this},setLocalFlag:function(e,t){try{if(window.localStorage)try{window.localStorage.setItem(e,t)}catch(i){return!1}}catch(i){return!1}return!0},getLocalFlag:function(e){var t=!1;try{if(window.localStorage)try{t=window.localStorage.getItem(e)}catch(i){return!1}}catch(i){return!1}return t},deleteSingle:function(e,t){return e&&(this.sendeVar28("Header.Notif.Delete."+e.raw.msgid),t&&this._remoteDelete(e),e=null),this},sendeVar28NoAPE:function(e,t){return window.dctk&&window.dctk.onReady&&dctk.onReady(function(){t?dctk.trackEvent("o","RFRR Action Link",{prop16:e,eVar28:e},t):(dctk.omtr.eVar28=e,dctk.omtr.events="event80",dctk.omtr.linkTrackVars="eVar28,events",dctk.omtr.linkTrackEvents="event80,event81",dctk.omtr.tl(!0,"o","RFRR Action Link"))}),this},declineNudge:function(){return this.sendeVar28NoAPE("Scratchpad.NotesLater"),this.setLocalFlag("scratchpadDeclineNotesInTray",!0),this.sendNotes(!1)},declineSignInToSave:function(){return this.sendeVar28NoAPE("Scratchpad.SaveLater"),this.setLocalFlag("scratchpadDeclineSaveInTray",!0),this},enrollInNudge:function(){return this.sendNotes(!0)},sendNotes:function(e){var t=this;return this._request(this._endpoints.sendMeNotes,"json","POST",{sendMeNotes:e}).done(function(i){e&&!i&&(window.location.href=t._endpoints.loginRedirect)})},_getAlerts:function(){return this._request(this._buildAlertQuery(),this._getAlertQueryDataType())},_isLab:function(){return/trunk/.test(window.location.hostname)},_buildAlertQuery:function(){var e=(window.alertMenuRequestIds,n.user.tuid||-1),t=n.user.guid||-1,i=n.user.expUserId||-1,r=a.siteId;return this._endpoints.userAlertsService+"/expid/"+i+"/siteid/"+r+"/tuid/"+e+"/guid/"+t},_getAlertQueryDataType:function(){return"json"},_request:function(e,i,n,a){return t.ajax({url:e,type:n||"GET",dataType:i||"jsonp",data:a||{},timeout:5e3})},_unpackRawAlertData:function(e,t){if(!(e&&e.responsestatus&&e.responsestatus.status&&"SUCCESS"===e.responsestatus.status&&e.newsItems&&e.newsItems.length))return[];t&&(this._alerts=[]);var i,n=0,a=e.newsItems.length;for(n;n<a;n++)this._isTaapSkipGbvMsgAndLogExperiment(e,n)||(i=new r(e.newsItems[n]),"undefined"!=typeof i.contentString&&this._isNotRewardsAlert(i.contentString)&&this._alerts.push(i));return t||(this._alerts=this.removeDuplicateAlerts(this._alerts)),this._alerts},_isTaapSkipGbvMsgAndLogExperiment:function(e,i){var n=11714,a=["TAAPGBVREMAININGNEWSSILVER","TAAPGBVREMAININGNEWSGOLD","TAAPGBVREMAININGNEWSPLATINUM"];return t.inArray(e.newsItems[i].msgid,a)!==-1&&0===o.get(n,null,!0).value},_isNotRewardsAlert:function(e){return!/TODO/.test(e)},_remoteDelete:function(e){return t.ajax({url:this._endpoints.expwebDelete,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({type:e.raw.type||"",msgid:e.raw.msgid||""})})}}}),define("gc/alertmenu-item-model",["jquery","gc/alertmenu-templates","gc/alertmenu-click-handlers"],function(t,i,n){var a=function(i){return this.raw=i,this.contentString=this._buildContentString(),this.uniqueId=[this.raw.msgid,++e].join(""),this.$el=t(this.toDisplayString()),this};return a.prototype={deleteSelf:function(e){return this.$el.remove(),"scratchpadLegacyAlert"===this.raw.newsFeedType?("spNudgeEnroll"==this.raw.msgid?AlertsMenu&&AlertsMenu.declineNudge():"spSignIn"==this.raw.msgid&&AlertsMenu&&AlertsMenu.declineSignInToSave(),AlertsMenu.deleteSingle(this,!1)):AlertsMenu.deleteSingle(this,e),null},toDisplayString:function(){var e="<li id="+this.uniqueId+' class="alert-item">'+this.contentString+'<div class="close-button"><button id="'+this.uniqueId+'-delete" btnType="close" targetId="'+this.uniqueId+'"><span class="icon icon-close" aria-hidden="true"></span><span class="visuallyhidden">'+accessibleNotifClose+"</span></button></div></li>";return e},_buildContentString:function(){return i[this.raw.msgid]?i[this.raw.msgid]({params:this.raw.params}):void 0}},a}),define("gc/alertmenu-click-handlers",["jquery","gc/pageModel","gc/alertmenu-strings"],function(e,t,i){window.alertMenuClickHandlers={spSignIn:function(e,t){window.AlertsMenu&&AlertsMenu.sendeVar28("Header.Notif.SP.SignIn")},spNudgeEnroll:function(n,a){n.preventDefault(),n.stopPropagation();var r=e(n.target).closest(".alert-item");r.find(".close-button").remove(),r.find(".alert-message").html(i.nudgeEnrollment.success),"ANONYMOUS"!==t.user.userStatus&&uitk.utils.liveAnnounce(i.nudgeEnrollment.success),uitk&&uitk.utils&&uitk.utils.focusElement&&uitk.utils.focusElement(r),window.AlertsMenu&&AlertsMenu.sendeVar28("Header.Notif.SP.OptIn"),window.AlertsMenu&&AlertsMenu.enrollInNudge()},spBasicNews:function(e,t){window.AlertsMenu&&AlertsMenu.sendeVar28("Header.Notif.SP.News")},spDetailedNews:function(e,t){window.AlertsMenu&&AlertsMenu.sendeVar28("Header.Notif.SP.LiveAlerts")},flightMIPGT:function(){window.AlertsMenu&&AlertsMenu.sendeVar28NoAPE("MIP.GT.Bell."+dctk.omtr.pageName+".FLIGHT-MIP","event158")},flightMIPActivity:function(){window.AlertsMenu&&AlertsMenu.sendeVar28NoAPE("MIP.LX.Bell."+dctk.omtr.pageName+".FLIGHT-MIP","event158")},addChromeExtension:function(t,i){function n(){if(dctk&&dctk.loggingAdapter.logMessage("ChromeExtensionSuccessful"),localStorage){var t=new Date(e.now()),i=t.getUTCMonth()+1,n=t.getUTCDate(),a=t.getUTCFullYear(),r=t.getUTCHours(),s=t.getUTCMinutes(),o=t.getUTCSeconds(),c=a+"-"+i+"-"+n+" "+r+":"+s+":"+o;localStorage.setItem("chromeExtensionInstallCTA",c)}}function a(e){dctk&&dctk.loggingAdapter.logError("ChromeExtensionFailed",e)}window.AlertsMenu&&AlertsMenu.sendeVar28("HP.notbell"),chrome&&chrome.webstore.install("https://chrome.google.com/webstore/detail/cfbpcgmafclgfmpoelldpmiolgblgbel",n,a)}},window.accessibleBadgeMessage=i.a11y.badgeOne,window.accessibleBadgeMessagePlural=i.a11y.badgePlural,window.accessibleNotifClose=i.a11y.notifClose}),require("gc/alertmenu",function(e){window.AlertsMenu=e.init()})}(),define("gc/errorLogging",[],function(){var e=function(){return!(!window.dctk||!dctk.enabled)&&(dctk.logging&&dctk.logging.logError)},t=function(e){console&&(console.error?console.error(e):console.log&&console.log("Error occurred in Wizard: "+e))},i={logError:function(i,n,a,r,s){e()?dctk.logging.logError("globalcontrols",i,{control:n,module:a,method:r,comments:s}):(require("dctk/clientLogging",function(e){e.logError("globalcontrols",i,{control:n,module:a,method:r,comments:s})}),t(i))}};return i}),require(["gc/errorLogging","gc/abTest","gc/pageModel","dctk/dctk"],function(e,t,i,n){try{"undefined"==typeof window.xp&&(window.xp={}),"undefined"==typeof xp.namespace&&(xp.namespace=function(){for(var e,t=arguments,i=null,n=0;n<t.length;n+=1){e=t[n].split("."),i=window;for(var a=0;a<e.length;a+=1)i[e[a]]=i[e[a]]||{},i=i[e[a]]}return i}),xp.namespace("xp.nav"),xp.nav.trackAnalytics=function(e,t,i){return"undefined"!=typeof s_exp_trackClick&&s_exp_trackClick&&s_exp_trackClick(e,t,i),!0},xp.nav.trackAnalyticsLanguageLinkWithLangID=function(e,t){n.trackAction(e,null,{prop30:t,eVar54:t})},xp.namespace("xp.nav.event"),xp.nav.event.onDOMReady=function(e){if(window.addEventListener)window.addEventListener("load",e,!1);else if(window.attachEvent)window.attachEvent("onload",e);else if(null!=window.onload){var t=window.onload;window.onload=function(i){t(i),window[e]()}}else window.onload=e},window.langRedirectionUrl=function(t){try{var i="/pub/agent.dll?qscr=chlg&lang={langID}&ovrd=3&rurl=",n=window.location.pathname,a=t.href.split("?langid=")[1],r=window.location.search,s=window.location.hash,o=t.href,c=n.indexOf("agent.dll")>-1||n.indexOf("/daily/")>-1,l=window.header_feedDomain;i=i.replace("{langID}",a),c&&(o=i+encodeURIComponent(window.location)),l?o="http:"+window.header_feedDomain+i+encodeURIComponent("http:"+window.header_feedDomain+"/"):(""===r&&(r="?"),r=r.indexOf("langid=")>-1?r.replace(/langid=\d+/,"langid="+a):r+"&langid="+a,o=n+r+s),window.location.href=o}catch(d){e.logError(d,"header","header.js","langRedirectionUrl")}},window.currencyRedirectionUrl=function(e){var t=window.location.pathname,i=window.location.search,n=window.location.hash,a=window.location.pathname,r=e.href.split("?currency=")[1],s=window.header_feedDomain;s?a="http:"+window.header_feedDomain+"/?currency="+r:(""===i&&(i="?"),i=i.indexOf("currency=")>-1?i.replace(/currency=[A-Z]{3}/,"currency="+r):i+"&currency="+r,a=t+i+n),window.location.href=a},window.appendRedirectionUrl=function(t){try{var i,n,a,r=window.location.pathname,s=(/uurl=([^&]+)/.exec(window.location.search)||[])[1],o=window.header_feedDomain;i=t.href.indexOf("/user/signin")!=-1?"/user/signin?ckoflag=0":t.href.indexOf("/user/login")!=-1?"/user/login?ckoflag=0":t.href.indexOf("/user/createaccount")!=-1?"/user/createaccount?fromheader=true":"/user/logout?",o?i="http:"+window.header_feedDomain+i+"&uurl=http:"+window.header_feedDomain:s&&s.indexOf("e3id")!==-1?i=i+"&uurl="+s:"/Hotel-Search"===r?(n=r+window.location.search+window.location.hash.replace("#",""===window.location.search?"?":"&"),a="&uurl="+encodeURIComponent("e3id=redr&rurl="+n),i+=a):"/"!==r&&(n=r.concat(window.location.search,window.location.hash),a="&uurl="+encodeURIComponent("e3id=redr&rurl="+n),i+=a),window.location.href=i.replace(/\'/g,"").replace(/\"/g,"")}catch(c){e.logError(c,"header","header.js","appendRedirectionUrl")}}}catch(a){e.logError(a,"header","header.js","main")}if(i&&i.site)if(1===i.site.id){t.get(12963,null,!0).value}else if(3===i.site.id){t.get(12977,null,!0).value}else if(25===i.site.id){t.get(12978,null,!0).value}}),require("uitk",function(e){$(".utility-nav a").on("click",function(t){var i=$(this).attr("id"),n=$(this).attr("href"),a=$(this).attr("target"),r=$(this).data("route"),s=$(this).data("omniture-id");e.publish("gc_nav_click",{id:i,href:n,target:a,route:r,omnitureId:s})})}),require(["gc/abTest","gss-modal","env"],function(e,t,i){function n(){"/"===window.location.pathname?void 0===c&&(c=e.get(14261,null,!0).value):c=0}function a(e){var n={showLoyaltyCheckBox:2===c};n.siteid=i.siteId,n.langid=i.langId,n.locale=i.locale,e.preventDefault(),t.initDomEmbedded(n)}function r(e,i,r,s,o,l){n(),1===c||2===c||3==c?(a(l),dctk.onReady(function(){dctk.omtr.pageName=r,dctk.omtr.t()}),"page.Account.GSS.CreateAccount"===r?t.openSignUp():t.openSignIn()):(document.getElementById(e).setAttribute("data-onclick",s),document.getElementById(i).setAttribute("data-onclick",o))}function s(e,t,i){if(o(e,t)){var n=document.getElementById(t).getAttribute("data-onclick"),a=document.getElementById(e).getAttribute(i);document.getElementById(t).removeAttribute("data-onclick"),document.getElementById(e).removeAttribute(i),"onclick"===i&&document.getElementById(e).removeAttribute("data-onclick"),document.getElementById(t).addEventListener("click",function(i){r(t,e,"page.Account.GSS.CreateAccount",n,a,i)}),document.getElementById(e).addEventListener("click",function(i){r(t,e,"page.Account.GSS.SignIn",n,a,i)})}}function o(e,t){var i=document.getElementById(e),n=document.getElementById(t);return"undefined"!=typeof i&&"undefined"!=typeof n&&null!=i&&null!=n}var c,l=e.get(13716,null,!1).value,d=window.innerWidth<=725;if(1!==l&&2!==l||d!==!0){var u="account-signin",p="account-register",g=document.getElementById("header-account-signin-button");null!==g&&"undefined"!==g&&(u="header-account-signin",p="header-account-register"),s(u,p,"data-onclick")}else s("header-accountMenu-signin","header-account-signup","onclick")}),require("gc/errorLogging",function(e){try{define("module",function(){return{}}),define("exports",function(){return{}}),require("env",function(e){window.site_id=e.siteId}),define("./utils",["Handlebars.Utils"],function(e){return e}),define("./handlebars/utils",["Handlebars.Utils"],function(e){return e}),define("./exception",["Handlebars.Exception"],function(e){return e}),define("./handlebars/exception",["Handlebars.Exception"],function(e){return e}),define("./safe-string",["Handlebars.Safe-String"],function(e){return e}),define("./handlebars/safe-string",["Handlebars.Safe-String"],function(e){return e}),define("./no-conflict",["Handlebars.noConflict"],function(e){return e}),define("./handlebars/no-conflict",["Handlebars.noConflict"],function(e){return e}),define("./runtime",["Handlebars"],function(e){return e}),define("./handlebars/runtime",["Handlebars"],function(e){
return e})}catch(t){e.logError(t,"header","handlebars-amd-bootstrap.js","main")}}),define("gc/script-loader",["jquery"],function(e){function t(t,i){var n=document.createElement("script");n.setAttribute("src",t),n.setAttribute("type","text/javascript"),n.addEventListener("load",i),e("head")[0].appendChild(n)}return t}),require(["uitk","gc/pageModel","gc/script-loader","env","jquery","dctk/dctk"],function(e,t,i,n,a,r){var s=t.user.hasGroups,o=n.locale||t.site.locale,c=n.siteId||t.site.id,l=n.taapHeaderBundleUrl||"https://d4rb83r2tty9a.cloudfront.net",d=n.version||"e4128bc5b740c3a51be00492446cfc400d08b587",u=(n.prefix||"//a.travel-assets.com/globalcontrols-service").replace("http:",""),p=!1,g=function(){p||(i(l+"/taapHeaderBundle.js"),i(l+"/loc/taapHeader."+o+".js"),p=!0)};location.search.indexOf("hasGroup=true")>=0&&(s=!0);var h=function(){var e="/marketingHeader/branding",i=v(f);i&&y(i,Date.now())?m(i.response):a.get(e,function(e){w(f,{currentTime:Date.now(),response:e,tuid:t.user.tuid}),m(e)})},m=function(e){if(e&&e.model&&e.id&&(e.model&&e.model.programName&&"npp"==e.model.programName&&r.onReady(function(){r.clearOmnitureObj(),r.trackEvent("o","Use Different Account",{eVar40:e.model.partnerProgramMetadata.companyID})}),e.id)){e.id=e.id.toLowerCase(),"pugs"==e.id&&e.model&&e.model.programName&&(e.id=e.model.programName);var t="header/cobrand/"+e.id+"/brandingheader";if("taap"==e.id){g();var n=setInterval(function(){a("#all-in-rewards-header-link").length&&a("#sub-menu-header-shop-rewards").length&&(clearInterval(n),a("#all-in-rewards-header-link").hide(),a("#sub-menu-header-shop-rewards").hide()),a("#header-account-rewards-more-menu").length&&a("#header-account-rewards-more-menu").hide()},10);return}var s=function(){var n=u+"/content/"+d+"/templates/"+c+"/"+o+"/"+e.id+".js";i(n,function(){for(var i in e.model)e.model.hasOwnProperty(i)&&(cugModel[i]=e.model[i]);require("handlebars",function(e){var i=document.createElement("div");i.innerHTML=e.templates[t](cugModel),a("#cobranded-header").html(i).show()})})};s()}},f="marketing.header.key",v=function(e){if(sessionStorage)try{return JSON.parse(sessionStorage.getItem(e))}catch(t){console.error(t)}return null},w=function(e,t){if(sessionStorage)try{sessionStorage.setItem(e,JSON.stringify(t))}catch(i){console.error(i)}},y=function(e,i){if(n.skipMarketingHeaderValidation)return!0;if(t.isUserAuthenticated()&&t.user.tuid==e.tuid&&e.currentTime){var a=(i-e.currentTime)/1e3;return a<7200}return!1};if(sessionStorage&&sessionStorage.getItem("taapContext"))g();else if(s)try{h()}catch(b){console.error(b)}}),require(["uitk","gc/pageModel","jquery","gc/errorLogging","gc/abTest","dctk/dctk"],function(e,t,i,n,a,r){try{var s=t&&("Identified"===t.user.userStatus&&t.user.expUserId<0||"ANONYMOUS"===t.user.userStatus),o=t&&"Identified"===t.user.userStatus,c=t&&"AUTHENTICATED"===t.user.userStatus,l=t&&t.user.sua&&"Identified"===t.user.userStatus,d=function(){i("#account-menu-header").removeClass("hidden"),i("#account-menu").addClass("hide"),i("#utility-link").addClass("hide");var e=i("#header-account-signup"),n=e.text(),a=t.site.brandName?t.site.brandName.toLowerCase():"";a=g(a),n=n.replace("{{0}}",a),e.text(n)},u=function(){var e=t.user.loyalty&&t.user.loyalty.tier?t.user.loyalty.tier:"",n=i(".signedInIcon"),a=i(".rewardsInHeader");i(".rewardsInAccountIcon");if(n.addClass(e),a.addClass("hide"),i(".account-menu-rewards").removeClass("hidden"),!t.user.loyalty||!t.user.loyalty.tier){var r=i(".joinExpediaRewards");r.removeClass("hidden")}},p=function(){return window.innerWidth<=725},g=function(e){return"undefined"!=typeof e&&e?e[0].toUpperCase()+e.slice(1):""},h=a.get(12855,null,!0).value&&p(),m=a.get(13716,null,!0).value&&p();if(2===a.get(13716).value&&p())var f=!0;var v=!a.get(15190,null,!0).value;if(c||!s){i("#header-account-menu").addClass("hidden"),i("#account-signin").addClass("hidden");var w,y=i("#header-account-menu-signed-in"),b=t.user.emailAddress||"";if(b=b.trim(),b.length>20)b=b.substring(0,17).concat("...");else{var k=b.split("@");k[0].length>8&&(k[0]=k[0].substring(0,7).concat("..."),b=k.join("@"))}w=t.user.firstName&&""!=t.user.firstName?t.user.firstName:t.user.emailAddress&&""!=t.user.emailAddress?b:"Guest",(h||m)&&i("#account-menu-header .userDetails span").text(w),t.user.arranged?(y.find("#arrangedUserGreetingName").text(w),y.find(".arrangedUser").removeClass("hidden")):(y.find("#userGreetingName").text(w),y.find(".nonArrangedUser").removeClass("hidden"),i("#account-menu-signed-in").find("#userGreetingName").text(w),i("#account-menu-signed-in").find(".nonArrangedUser").removeClass("hidden")),o?(i("#account-signout").addClass("hidden"),i("#identified-account-signout").addClass("hidden"),i("#identified-account-signout-v2").removeClass("hidden"),i("#userGreetingNameSignOut-v2").text(w)):(i("#account-signout").removeClass("hidden"),i("#identified-account-signout").addClass("hidden"),i("#identified-account-signout-v2").addClass("hidden")),y.removeClass("hidden"),(h||m)&&i(".notSignedIn").css("display","none"),l&&i("#account-myaccount").addClass("hidden")}else(h||m)&&i(".signedIn").css("display","none");v&&i(".alerts-display-wrapper ul").removeClass("hideBell"),(h||m)&&d(),m&&u(),f&&i(".fav-hotels-link").removeClass("hidden"),i(document).on(e.clickEvent,"#account-menu-icon",function(e){r.trackEvent({name:"AccountIconButtonClicked",rfrr:"HP.ACCOUNT.HEADER.ENG"})}),i(window).on("resize",function(){var e=a.get(12855,null,!0).value&&p(),t=a.get(13716,null,!0).value&&p();c||!s?((e||t)&&i(".notSignedIn").css("display","none"),(e||t)&&i("#account-menu-header .userDetails span").text(w)):(e||t)&&i(".signedIn").css("display","none"),(e||t)&&d(),t&&u()})}catch(C){n.logError(C,"header","account-menu.js","main")}}),require(["jquery","gc/errorLogging","gc/redirect-banner/model"],function(e,t,i){function n(e){e.find("a").attr("href",s)}function a(e){e.find(".btn-close").on("click",function(){e.addClass("hidden")}),e.removeClass("hidden")}function r(){var t=e("#redirectBanner");n(t),a(t)}var s;try{if(i.isRedirected(window.location)){var s=i.createReturnUrl(window.location);e(document).ready(r)}}catch(o){t.logError(o,"header","redirect-banner/ui.js","main")}}),define("gc/redirect-banner/model",["env"],function(e){function t(e){return e.search.indexOf(s)>=0}function i(e){var t=r(e),i="//"+t+"/IpSniffRedir?forceNoRedir=1&userTpid=1&targetUrl="+n(e,t);return i}function n(e,t){var i=a(e.search);return i+=i.length>0?"&rfrr=Header.POSRedirect."+window.location.hostname:"/?rfrr=Header.POSRedirect."+window.location.hostname,encodeURIComponent(e.protocol+"//"+t+e.pathname+i)}function a(e){var t=e.indexOf(s),i=e.indexOf("&",t),n=i===-1?e.length:i+1,a=e.replace(e.substring(t,n),"");return a}function r(e){var t=e.search,i=/[^a-zA-Z\.]/,n=t.indexOf(s)+s.length+1,a=t.substring(n),r=a.search(i),o=r===-1?a.length:r,c=a.substring(0,o);return c}var s="rfrr=Redirect.From";return{isRedirected:t,createReturnUrl:i,getRedirectFrom:r,cleanSearch:a}}),require(["gc/pageModel","jquery","gc/errorLogging"],function(e,t,i){var n=void 0,a=void 0,r=void 0,s=void 0,o=!1,c="rewards",l=!1,d=!1,u=!1,p=!1,g={};g.enabled={},g.processPointsAndTiers={},g.showRewardsHeaderAlways={},g.program={},g.program[1178]="td",g.program[1236]="barclays",g.program[1]="rewards",g.program[3]="rewards",g.program[4]="rewards",g.program[8]="rewards",g.program[9]="rewards",g.program[11]="rewards",g.program[14]="rewards",g.program[16]="rewards",g.program[17]="rewards",g.program[18]="rewards",g.program[20]="rewards",g.program[27]="rewards",g.program[28]="rewards",g.program[29]="rewards",g.program[61]="rewards",g.program[62]="rewards",g.program[63]="rewards",g.program[64]="rewards",g.program[65]="rewards",g.program[66]="rewards",g.program[67]="rewards",g.program[69]="rewards",g.program[70]="rewards",g.program[71]="rewards",g.program[72]="rewards",g.program[73]="rewards",g.program[70301]="rewards",g.program[70201]="rewards",g.program[70403]="rewards",g.program[70406]="rewards",g.program[70420]="rewards",g.program[70463]="rewards",g.program[70473]="rewards",g.program[70472]="rewards",g.program[70465]="rewards",g.processPointsAndTiers[1178]=!0,g.processPointsAndTiers[1236]=!0,g.processPointsAndTiers[1]=!0,g.processPointsAndTiers[3]=!0,g.processPointsAndTiers[4]=!0,g.processPointsAndTiers[8]=!0,g.processPointsAndTiers[9]=!0,g.processPointsAndTiers[11]=!0,g.processPointsAndTiers[14]=!0,g.processPointsAndTiers[16]=!0,g.processPointsAndTiers[17]=!0,g.processPointsAndTiers[18]=!0,g.processPointsAndTiers[20]=!0,g.processPointsAndTiers[27]=!0,g.processPointsAndTiers[28]=!0,g.processPointsAndTiers[29]=!0,g.processPointsAndTiers[61]=!0,g.processPointsAndTiers[62]=!0,g.processPointsAndTiers[63]=!0,g.processPointsAndTiers[64]=!0,g.processPointsAndTiers[65]=!0,g.processPointsAndTiers[66]=!0,g.processPointsAndTiers[67]=!0,g.processPointsAndTiers[69]=!0,g.processPointsAndTiers[70]=!0,g.processPointsAndTiers[71]=!0,g.processPointsAndTiers[72]=!0,g.processPointsAndTiers[73]=!0,g.processPointsAndTiers[70301]=!1,g.processPointsAndTiers[70201]=!1,g.processPointsAndTiers[70403]=!1,g.processPointsAndTiers[70406]=!1,g.processPointsAndTiers[70420]=!1,g.processPointsAndTiers[70463]=!1,g.processPointsAndTiers[70473]=!1,g.processPointsAndTiers[70472]=!1,g.processPointsAndTiers[70465]=!1,g.enabled[1]=!0,g.enabled[3]=!0,g.enabled[4]=!0,g.enabled[8]=!0,g.enabled[9]=!0,g.enabled[11]=!0,g.enabled[14]=!0,g.enabled[16]=!0,g.enabled[17]=!0,g.enabled[18]=!0,g.enabled[20]=!0,g.enabled[27]=!0,g.enabled[28]=!0,g.enabled[29]=!0,g.enabled[61]=!0,g.enabled[62]=!0,g.enabled[63]=!0,g.enabled[64]=!0,g.enabled[65]=!0,g.enabled[66]=!0,g.enabled[67]=!0,g.enabled[69]=!0,g.enabled[70]=!0,g.enabled[71]=!0,g.enabled[72]=!0,g.enabled[73]=!0,g.enabled[1236]=!0,g.enabled[1178]=!0,g.enabled[70301]=!0,g.enabled[70201]=!0,g.enabled[70403]=!0,g.enabled[70406]=!0,g.enabled[70420]=!0,g.enabled[70463]=!0,g.enabled[70473]=!0,g.enabled[70472]=!0,g.enabled[70465]=!0,g.showRewardsHeaderAlways[1178]=!0,g.showRewardsHeaderAlways[70301]=!0,g.showRewardsHeaderAlways[70201]=!0,g.showRewardsHeaderAlways[70403]=!0,g.showRewardsHeaderAlways[70406]=!0,g.showRewardsHeaderAlways[70420]=!0,g.showRewardsHeaderAlways[70463]=!0,g.showRewardsHeaderAlways[70473]=!0,g.showRewardsHeaderAlways[70472]=!0,g.showRewardsHeaderAlways[70465]=!0;try{if(e&&(d=g.enabled[e.site.id]===!0,l=d&&g.showRewardsHeaderAlways[e.site.id]===!0,o=d&&g.processPointsAndTiers[e.site.id]===!0,c=void 0!==g.program[e.site.id]?g.program[e.site.id]:c,"rewards"===c?s=t(".rewardsHeader"):c.match(/td|barclays/)&&(s=t("#header-award-module-info")),u=e.isUserIdentified(),p=d&&e.user.loyalty&&e.user.loyalty.rewardsMember),u&&p&&o){if(n=e.user.loyalty.tier,a=e.user.loyalty.tierId,r=parseInt(e.user.loyalty.confirmedPoints),"td"===c){if(/^([6789]|10|11)$/.test(a)){var h=document.createElement("img");h.src="//{{domain}}/_dms/group/header/1178/howitworks/logo.png?locale={{locale}}&tierid={{tierid}}".replace("{{locale}}",e.site.locale).replace("{{tierid}}",a).replace("{{domain}}","www.expediafortd.com"),t("#header-howitworks").append(h).removeClass("hidden"),6==a&&s.find("#header-pointBalDescRewards").removeClass("hidden")}}else if("rewards"===c){var m=s.find(".benefits_link"),f=m.find(".tierBadge"),v=m.attr("href");v=v.replace("color",n),m.attr("href",v),f.addClass(n).text("+"+n)}if(r>0){var w;w=e.user.loyalty.confirmedPointsFormatted?e.user.loyalty.confirmedPointsFormatted:r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var y;if("td"===c){y=s.find(".point-balance"),y.text(w);var b=t("#header-cySymbol");b.removeClass("hidden")}if(c.match(/td|barclays/)){var k="td"==c?e.user.loyalty.redeemableDollarValue:e.user.loyalty.cashBalanceFormatted;t("#header-cashValue").text(k)}else y=s.find(".pointsDisplay"),y.text(w+" points");y&&y.removeClass("hidden"),l=!0}else"td"===c&&(l=!1)}else"td"===c&&(l=!1)}catch(C){i.logError(C,"header","rewards-badge.js","main")}finally{l&&s&&s.removeClass("hidden").attr("style","")}}),require(["jquery"],function(e){e("#header-container").on("click","a[data-omniture-id]",function(e){var t=e.target,i="a";e.target!==this&&(t=e.target.closest("a"));var n=t.getAttribute("data-omniture-id");try{s_exp_trackClick(t,i,n)}catch(a){}})}),require(["gc/errorLogging"],function(e){window.headerFeedback=function(t){try{var i,n,a=screen.width,r=screen.height,s=null!==document.getElementById("home-page"),o=OpinionLab_FB.O_HT(),c="ModalPopUp",l=$("#support-feedback").attr("href").length>0?$("#support-feedback").attr("href"):"/p/info-other/feedback.htm",d=(r-192)/2,u=(a-535)/2;s&&(o=o.replace("Homepage.html","Homepage-new.html")),void 0!==window.header_feedBackUrl&&(l=header_feedBackUrl),i=l+"?referer="+o+"&customvar="+OpinionLab_FB.O_CV()+"&prev="+OpinionLab_FB.O_PRV(),n=["toolbar=no","scrollbars=no","location=no","statusbar=no","menubar=no","resizable=no","width=635px","height=280px","screenX="+u,"screenY="+d,"left="+u,"top="+d].join(",");var p=window.open(i,c,n);p.focus()}catch(t){e.logError(t,"header","header-feedback.js","headerFeedback")}}}),function(){require(["uitk","jquery"],function(e,t){t("#header-container").on(e.clickEvent,"#mobile-toggle-header-link",function(e){t(document.getElementById("globalSiteNavigation")).toggleClass("responsive-menu-shown")})})}();var OpinionLab_FB=function(){function _fC(_u){for(var _aT=_sp+",\\/,\\.,-,_,"+_rp+",%2F,%2E,%2D,%5F",_aA=_aT.split(","),i=0;i<5;i++)eval("_u=_u.replace(/"+_aA[i]+"/g,_aA[i+5])");return _u}function _fPe(){Math.random()>=1-_poE&&(O_LC(),_poX=0)}function _fPx(){Math.random()>=1-_poX&&O_LC()}function _populateCustomVar(){var e="",t="";"undefined"!=typeof dctk&&"undefined"!=typeof dctk.omtr?(e="undefined"!=typeof dctk.omtr.prop11?dctk.omtr.prop11:"",t="undefined"!=typeof dctk.omtr.prop12?dctk.omtr.prop12:""):"undefined"!=typeof s_exp?(e="undefined"!=typeof s_exp.prop11?s_exp.prop11:"",t="undefined"!=typeof s_exp.prop12?s_exp.prop12:""):(e="undefined"!=typeof s_prop11?s_prop11:"",t="undefined"!=typeof s_prop12?s_prop12:""),custom_var=t+"|"+e}function _replacePageName(){var e=null;if(e="undefined"!=typeof dctk&&"undefined"!=typeof dctk.omtr?escape(dctk.omtr.pageName)+".html":"undefined"!=typeof s_exp&&"undefined"!=typeof s_exp.pageName?escape(s_exp.pageName)+".html":"undefined"!=typeof s_pageName?escape(s_pageName)+".html":null){var t=e.toLowerCase();t.search("infosite")>=0&&(e=null)}if(e){var i=_ht.replace("https%3A//","").replace("http%3A//","");_ht=_ht.substr(0,_ht.indexOf("%3A//"))+"%3A//"+i.substr(0,i.indexOf("/"))+"/"+e}if("undefined"!=typeof bIsCAFR&&1==bIsCAFR){var n="fr-CA.";_rp="%3A//"+n}if("undefined"!=typeof bIsMSMY&&1==bIsMSMY){var n="ms-my.";_rp="%3A//"+n}if("undefined"!=typeof OlAltLang&&null!=OlAltLang){var n=OlAltLang;_rp="%3A//"+n}}var custom_var,_sp="%3A\\/\\/",_rp="%3A//",_poE=0,_poX=0,_sH=screen.height,_d=document,_w=window,_ht=escape(_w.location.href),_hr=_d.referrer,_tm=(new Date).getTime(),_kp=0,_sW=screen.width;return{O_HT:function(){return _replacePageName(),_ht},O_CV:function(){return _populateCustomVar(),custom_var},O_PRV:function(){return null==_hr||_hr.length<1?"null":escape(_hr)},O_LC:function(e,t,i,n){_replacePageName(),_populateCustomVar(),(null==e||e.length<1)&&(e="comments"),(null==t||t.length<1)&&(t=_ht),(null==i||i.length<1)&&(i=custom_var),n=null==n||n.length<1?_fC(escape(_hr)):"null"==n?"":_fC(escape(n)),_w.open("https://secure.opinionlab.com/ccc01/comment_card.asp?time1="+_tm+"&time2="+(new Date).getTime()+"&prev="+n+"&referer="+_fC(t)+"&height="+_sH+"&width="+_sW+"&custom_var="+i,e,"width=535,height=192,screenX="+(_sW-535)/2+",screenY="+(_sH-192)/2+",top="+(_sH-192)/2+",left="+(_sW-535)/2+",resizable=yes,copyhistory=yes,scrollbars=no")},O_GoT:function(e){_d.write("<a href='javascript:O_LC()'>"+e+"</a>")}}}();require(["uitk","gc/pageModel","jquery","gc/errorLogging"],function(e,t,i,n){try{var a=function(e){return e.removeClass("hidden").addClass("active")},r=function(e){e.find("#arrangee-first-name").text(t.user.firstName),e.find("#arrangee-last-name").text(t.user.lastName)};if(t&&t.user&&t.user.arranged&&!t.user.agent){var s=i("#header-alert-banner");r(s),a(s)}}catch(o){n.logError(o,"wizard","travel-arranger.js","main")}}),require(["uitk","gc/pageModel","jquery","gc/errorLogging"],function(e,t,i,n){try{var a="/agent/expe/agentbar",r=function(){i("#agent-arranger-bar-container").load(a)};t&&t.user&&t.user.agent&&r()}catch(s){n.logError(s,"wizard","agent-bar.js","main")}}),function(){define("gc/sp-car-details-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(e,t,i){var n=function(e,t){var i="";"daily"===e.pricePeriod?i=t.daily:"weekly"===e.pricePeriod?i=t.weekly:"total"===e.pricePeriod&&(i=t.total);var n='<li class="scratchpad-item"><a href="'+e.deepLink+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><img src="//images.trvl-media.com/cars'+e.thumbnailUrl+'" alt="'+e.carName+'" class="image" aspectRatio="1-1" onerror="this.onerror=null;this.src=\'/static/default/default/images/car/no_photo.png\';"></span><h4 class="item-title">'+e.carName+'</h4><p class="item-date">'+e.pickupDate+" - "+e.dropOffDate+'</p><p class="item-dummy item-nested">'+e.pickupLocation+'</p><div class="item-price-urgency"><strong class="price">'+e.price+"</strong>"+i+'<p class="item-nested">'+e.lastSeen+"</p></div></div></a></li>";return n},a=function(t){var a=scratchpadTray.view.strings.item;this.trayIndex=t.trayIndex,this.template=n;var a=i.item;if(t.product){if(this.type="carDetail",this.attributes=t.carDetail,this.get("price")){var r=a.from.replace("{{itemPrice}}",this.get("price"));this.set("price",r),"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeen",a.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeen",a.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate")))}else this.set("price",""),this.set("lastSeen","See price");this.$el=e(e.trim(this.template(this.attributes,a)))}};return a.prototype=t,a})}(),function(){define("gc/sp-activity-search-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(e,t,i){var n=function(e,t){var i="";e.price&&(i=t.perTraveler);var n='<li class="scratchpad-item"><a href="'+e.deepLink+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><span class="icon icon-activitiesalt"></span></span><h4 class="item-title">'+e.destination+'</h4><p class="item-watches item-nested">&nbsp;</p><div class="item-price-urgency lx"><strong class="price">'+e.price+'</strong><p class="item-package-message">'+i+'</p><p class="item-nested">'+e.lastSeenDate+"</p></div></div></a></li>";return n},a=function(t){var a="",r=i.item;this.trayIndex=t.trayIndex,this.template=n,t.product&&(this.type="activitySearch",this.attributes=t.activitySearch,this.get("price")?"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeenDate",r.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeenDate",r.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate"))):(this.set("price",""),this.set("lastSeenDate",r.seePrice)),a=/\?/.test(this.get("deepLink"))?"&":"?",this.set("rfrrString",a+"rfrr=SP.Tray."+this.trayIndex+".ACS"),this.set("deepLink",this.get("deepLink")+this.get("rfrrString")),this.$el=e(e.trim(this.template(this.attributes,r))),this.get("startDate")&&this.get("endDate")?""===this.get("price")&&this.$el.addClass("priceless"):this.$el.addClass("dateless"))};return a.prototype=t,a})}(),function(){define("gc/sp-activity-details-item",["jquery","gc/sp-tray-item-prototype","gc/sp-tray-strings"],function(e,t,i){var n=function(e,t){var i="";e.price&&(i=t.perTraveler);var n='<li class="scratchpad-item"><a href="'+e.deepLink+'" class="item-link" data-onclick=""><div class="item-data"><span class="item-img-icon"><img src="'+e.thumbnail+'" alt="'+e.title+'" class="image lx" aspectRatio="1-1"></span><h4 class="item-title">'+e.title+'</h4><p class="item-date"><span class="icon icon-time"></span> '+e.duration+'</p><p class="item-watches item-nested">&nbsp;</p><div class="item-price-urgency"><strong class="price">'+e.price+'</strong><p class="item-package-message">'+i+'</p><p class="item-nested">'+e.lastSeenDate+"</p></div></div></a></li>";return n},a=function(t){var a="",r=i.item;this.trayIndex=t.trayIndex,this.template=n,t.product&&(this.type="activityDetail",this.attributes=t.activityDetail,this.get("price")?"SHORT_TIME"===this.get("dateTimeFormatType")?this.set("lastSeenDate",r.asOfTime.replace("{{lastSeenTime}}",this.get("lastSeenDate"))):this.set("lastSeenDate",r.asOfDate.replace("{{lastSeenDate}}",this.get("lastSeenDate"))):(this.set("price",""),this.set("lastSeenDate",r.seePrice)),a=/\?/.test(this.get("deepLink"))?"&":"?",this.set("rfrrString",a+"rfrr=SP.Tray."+this.trayIndex+".ACD"),this.set("deepLink",this.get("deepLink")+this.get("rfrrString")),this.get("thumbnail")&&this.set("thumbnail",this.get("thumbnail")),this.$el=e(e.trim(this.template(this.attributes,r))),this.get("startDate")&&this.get("endDate")?""===this.get("price")&&this.$el.addClass("priceless"):this.$el.addClass("dateless"))};return a.prototype=t,a})}(),define("gc/mobileAppBanner",["jquery","gc/script-loader","env","gc/pageModel","dctk/dctk","gc/abTest"],function(e,t,i,n,a,r){var s=s||{},o=i.prefix,c=i.version,l=i.locale||n.site.locale,d=i.siteId||n.site.id;if("local"===c)o="";else if("undefined"==typeof o||null==o||0===o.length){var u="a".charCodeAt(),p="c".charCodeAt(),g=String.fromCharCode(Math.floor(Math.random()*(p-u+1))+u);o=["//",g,".travel-assets.com/globalcontrols-service"].join("")}s.el=e("#mobile-app-banner-container");e("#mobile-app-banner-wrapper");s.init=function(){1==r.get(15805,null,!0).value&&m()?h():s.render()};var h=function(){var e=document.createElement("script"),t="desktop";Modernizr.appleios?t="iOS":Modernizr.android&&(t="Android");var i=["/mad-service/globalControls/gcHeader?containerId=mad-header-container"];i.push("&siteid="),i.push(n.site.id),i.push("&locale="),i.push(n.site.locale),i.push("&pageName=gc.header-from-content"),i.push("&os="),i.push(t),e.setAttribute("src",i.join("")),document.head.appendChild(e)},m=function(){return window.innerWidth<=491};return s.render=function(){var i=function(){var i=o+"/content/"+c+"/templates/"+d+"/"+l+"/mobile-download-banner.js";t(i,function(){if(e.isEmptyObject(cugModel))a.logging.logError("Mobile Download Banner - HBS CugModel Empty",new Error("Mobile Download Banner - HBS Model Empty"),[]);else{cugModel.delayBanner=!0;var t=r.get(15081,null,!0).value;t&&(cugModel.delayBanner=!1),Modernizr.appleios?t&&cugModel.iosAppBannerUrlDelayTest?cugModel.appUrl=cugModel.iosAppBannerUrlDelayTest:cugModel.appUrl=cugModel.iosAppBannerUrl:Modernizr.android?t&&cugModel.androidAppBannerUrlDelayTest?cugModel.appUrl=cugModel.androidAppBannerUrlDelayTest:cugModel.appUrl=cugModel.androidAppBannerUrl:cugModel.appUrl="",70201==d?cugModel.downloadBannerBottomText=cugModel.downloadBannerBottomText.replace("{{brand}}","Orbitz"):cugModel.downloadBannerBottomText=cugModel.downloadBannerBottomText.replace("{{brand}}","Expedia+"),require("handlebars",function(e){s.el.html(e.templates["header/cobrand/mobile-download-banner/brandingheader"](cugModel))})}})},n=function(){var e=new Date;e.setTime(e.getTime()+864e6),document.cookie="MDBClose=yes; expires="+e.toGMTString()},u=function(){a&&a.onReady&&a.trackEvent&&(Modernizr.appleios||Modernizr.android)&&a.onReady(function(){a.trackEvent({trackEvents:"event267"}),e(document).on("click","#mobile-app-banner-link",function(e){a.trackEvent({trackEvents:"event268",trackVars:{prop16:"GH.Banner.App.GCHEADERMWEB",eVar28:"GH.Banner.App.GCHEADERMWEB"}})}),e("#close-banner-anime").live("click",function(e){document.getElementById("mobile-app-banner-wrapper").style.setProperty("display","none","important"),n(),a&&a.trackEvent&&a.trackEvent({trackVars:{prop16:"GH.Banner.App.Close",eVar28:"GH.Banner.App.Close"}})})})},p=navigator.userAgent.indexOf("app.webview")>-1,g=r.get(14592,null,!0).value,h=r.get(14763,null,!0).value,m=r.get(15714,null,!0).value,f=r.get(15715,null,!0).value;document.cookie.indexOf("MDBClose=")<0&&(g||h||m||f)&&!p?e.when(i()).then(u()):document.getElementById("mobile-app-banner-wrapper")&&u()},s}),require(["gc/mobileAppBanner","gc/abTest"],function(e,t){var i=t.get(15489,null,!0).value;i&&document.getElementById("mobile-app-banner-wrapper")&&document.getElementById("mobile-app-banner-wrapper").style.setProperty("display","none","important"),e.init()}),(document.cookie.indexOf("MDBClose")>=0||navigator.userAgent.indexOf("app.webview")>-1)&&document.getElementById("mobile-app-banner-wrapper")&&document.getElementById("mobile-app-banner-wrapper").style.setProperty("display","none","important"),require(["jquery","uitk","gc/abTest","gc/pageModel"],function(e,t,i,n){function a(){u.removeClass(b),w.removeClass(b);var t=e(window).width();o(t,!1),s()}function r(e,t){var i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()},i.src=e,document.getElementsByTagName("head")[0].appendChild(i)}function s(){u.on("click",function(){h.addClass(k),g.removeClass(k),t.utils.focusElement(f)}),p.on("click",function(){g.addClass(k),h.removeClass(k)}),v.mousedown(function(){O=!0,c(e(window).width()>=I?S.desktop:S.mobile)}),f.keypress(function(t){13==t.which&&c(e(window).width()>=I?S.desktop:S.mobile)}),f.focusin(function(){f.addClass(C),m.addClass(C),v.show();var t=e(window).width();o(t,!0)}),f.focusout(function(){if(O)O=!1;else{v.hide(),f.removeClass(C),m.removeClass(C);var t=e(window).width();o(t,!1)}}),e(window).resize(function(){var t=e(window).width();f.blur(),o(t,!1)})}function o(e,t){if(e>=I){g.addClass(k);var i=e;e>P&&(i=P);var n=i-E;t&&(n=n-x-_),y.width(n)}}function c(i,n){var a=n||l(i),r=d(a);e(f).val(""),t.redirect(r)}function l(t){var i=f.map(function(t,i){return e(i).val()});return i[t]}function d(t){var i=T.params;i.q=t;var n=e.param(i);return T.url+"?"+n}var u=e(".open-search-icon-search"),p=e(".open-search-icon-close"),g=e(".open-search-search-bar-mobile"),h=e(".site-header-primary-banner"),m=e(".search-query-label"),f=e(".open-search-query"),v=e(".open-search-search-button"),w=e(".open-search-wrapper"),y=e(".open-search-search-bar-desktop").find(".search-query-wrapper"),b="hidden",k="visuallyhidden",C="open-search-bar-focus",S={desktop:0,mobile:1},A=e("#assetLinkPrefix").text(),T={url:"/search-results",params:{q:"",rfrr:"globalcontrols-header"}},P=1176,I=960,E=770,x=96,_=8,D="12087";v.hide();var M=i.get(D),L=!1,O=!1;switch(n.site.id){case 1:1033===n.site.langId&&(L=!0);break;case 3:2057===n.site.langId&&(L=!0)}if(M&&1===M.value&&L&&"function"==typeof window.turnOnHeaderOpenSearch){var N=A+"/config/js/jquery-ui-1.11.4.js";r(N,function(){a()})}}),require(["uitk","jquery"],function(e,t){t(".skip-nav a[href^=#]").on("click",function(i){i.preventDefault();var n=i.currentTarget.getAttribute("href");e.utils.focusElement(t(n))})}),require(["gc/abTest"],function(e){var t=function(e,t){var i=$(".secondary-branding"),n=i.find("img"),a=n.attr("src");if(1==e.value){if(a){var r,s;11784==t&&(r=a.replace(/images\/(.+)/g,"images/aus_loyalty-campaign_240x32.gif"),s="/p/travel-rewards?mcicid=sbc_loyalty"),r&&s&&(n.attr("src",r),i.find("a").attr("href",s),n.on("load",function(e){$(this).removeClass("invisible")}))}}else n.removeClass("invisible")};e.get(11784,function(e){t(e,11784)},!1)}),require(["uitk","gc/pageModel","jquery","gc/errorLogging"],function(e,t,i,n){try{if(t&&t.site&&1170===t.site.id&&t.user&&t.user.agent){var a=i("#hdr-packages").parent();i("#menu-bar ul:first").children().remove(),i("#menu-bar ul:first").append(a),i("ul.nav-secondary").remove()}}catch(r){n.logError(r,"wizard","gco-agent.js","main")}});var GSS_MODAL_VERSION="1.0.62";if(define("gss-modal",["uitk","gss-view-handler","gss-forms"],function(e,t,i){function n(e){$("#gss-deferred-content").ready(function(t){"undefined"!=typeof dctk&&dctk.ewePerformance?dctk.ewePerformance.mark("gss-modal_deferred_end_uitk_modal"):window.performance.mark("gss-modal_deferred_end_uitk_modal"),$("#gss-deferred-content").html(e),require(["gss-omniture-tracker"],function(e){e.initDeferred(f)})})}function a(e){f.push("switchToSignUp"),t.transitToSignUp()}function r(e){f.push("switchToSignIn"),t.transitToSignIn()}function s(e){var t=document.createElement("script");t.type="application/javascript",t.src=e,t.async=!0,document.getElementsByTagName("head")[0].appendChild(t)}function o(){var e=475,t=315,i=void 0!=window.screenLeft?window.screenLeft:screen.left,n=void 0!=window.screenTop?window.screenTop:screen.top,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,s=a/2-e/2+i,o=r/2-t/2+n,c=window.open(w,"fb-auth-window","channelmode=yes,width="+e+",height="+t+",top="+o+", left="+s,"resizable=no,toolbar=no,menubar=no,location=no,status=no");return c}function c(e){$(e).attr("disabled",!0),window.tpLoginSuccess=void 0;var t=o(),i=setInterval(function(){t.closed&&($(e).attr("disabled",!1),clearInterval(i),void 0!=window.tpLoginSuccess&&window.tpLoginSuccess&&l())},100)}function l(){var e={provider:"Facebook",referrerUrl:b,successUrl:y,modal:"modal"};d(50,function(){return"undefined"!=typeof authtk&&"undefined"!=typeof $LAB},function(){m.open&&m.close(),authtk.showConnectModal(e)})}function d(e,t,i){var n=e||50;t()?i&&i():setTimeout(function(){d(n,t,i)},n)}function u(e){"undefined"!=typeof dctk&&dctk.logging&&dctk.logging.logError("GSS_MODAL_ERROR",new Error(e+" not loaded due to network error. Modal won't work."),["topic=GSS","experimentId=d/a"])}function p(e,t,i){"undefined"!=typeof dctk&&dctk.trackAction&&dctk.onReady(function(){dctk.trackAction(e,i,{pageName:t,prop16:e,eVar28:e})})}var g,h,m={},f=[],v={},w="/user/third-party-login",y=window.location.pathname+window.location.search,b=window.location.pathname+window.location.search,k={deferredLoaded:!1,initDomEmbedded:function(t){if(!m.open){v=t;var n=$("#"+i.common.mdlCntId);m=e.modal.create({content:n[0].outerHTML,modalId:i.common.modalId,background:!0,dismiss:!0,manual:"both",classes:"gss-elem-4-cols"}),n.remove()}},init:function(t,n){m.open||(v=n,m=e.modal.create({content:t,modalId:i.common.modalId,background:!0,dismiss:!0,manual:"both",classes:"gss-elem-4-cols"}))},clearForms:function(){},getUitkModal:function(){return m},openSignIn:function(){void 0!==g&&e.unsubscribe("modal.appended",g),void 0!==h&&e.unsubscribe("modal.beforeClose",h),this.preSetup(),m.open(),this.setupModalEventtHandlers(),this.setupFbLoginEventtHandlers(),this.clearForms(),t.transitToSignIn()},openSignUp:function(){void 0!==g&&e.unsubscribe("modal.appended",g),void 0!==h&&e.unsubscribe("modal.beforeClose",h),this.preSetup(),m.open(),this.clearForms(),this.setupModalEventtHandlers(),this.setupFbLoginEventtHandlers(),t.transitToSignUp()},preSetup:function(){h=e.subscribe("modal.beforeClose",function(e,n){if(n.options.modalId===i.common.modalId){var a=t.presentView();require(["gss-omniture-tracker"],function(e){null!==a&&("GSS-SIGNIN-VIEW"===a.toUpperCase()?e.signIn.closeView():"GSS-SIGNUP-VIEW"===a.toUpperCase()?e.signUp.closeView():"GSS-FORGOT-PASSWORD-VIEW"===a.toUpperCase()&&e.resetPassword.closeView())}),t.deactivateViews(),n.close()}}),g=e.subscribe("modal.appended",function(e,t){t.options.modalId===i.common.modalId&&(k.deferredLoaded||("undefined"!=typeof dctk&&dctk.ewePerformance?dctk.ewePerformance.mark("gss-modal_deferred_start_uitk_modal"):window.performance.mark("gss-modal_deferred_start_uitk_modal"),s("https://a.travel-assets.com/gss-loader/user/gss/common/authtk-gss-min.js"),s("https://a.travel-assets.com/gss-loader/user/gss/common/LAB-gss-min.js"),$.ajax({url:"/user/global-login",type:"GET",data:v,headers:{isDeferred:!0},success:function(e){
n(e)},error:function(){u("gss-modal-deferred-content")}})))})},setupModalEventtHandlers:function(){i.init(),$(i.signUp.gotoSignInButton).click(r),$(i.signIn.gotoSignUpButton).click(a),$(i.common.uitkModalContainer).bind("transitionend",function(e){i.common.isDesktop&&t.focus()}),i.common.isDesktop&&(i.signUp.password.setAttribute("type","password"),i.signIn.password.setAttribute("type","password")),v.showLoyaltyCheckBox&&$(i.signUp.joinProgramDiv).removeClass("hidden")},setupFbLoginEventtHandlers:function(){$(i.signUp.facebookSignupButton).click(function(e){var t=e.target||e.srcElement;c(i.signUp.facebookSignupButton),p("GSS.CreateAccount.FB.Connect","page.Account.GSS.CreateAccount",t)}),$(i.signIn.facebookSigninButton).click(function(e){var t=e.target||e.srcElement;c(i.signIn.facebookSigninButton),p("GSS.Login.FB.Connect","page.Account.GSS.SignIn",t)})}};return k}),define("gss-forms",function(){function e(){a.modalContainer=$("#"+a.mdlCntId)[0],a.uitkModalContainer=$("#"+a.modalId)[0],a.uitkModalBody=a.uitkModalContainer.getElementsByClassName("modal-body")[0],a.interstitialAriaMsg=$("#gss-interstitial-aria-msg")[0].value,a.isMobile=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),a.isDesktop=!a.isMobile}function t(){r.container=$("#gss-signup-view")[0],r.firstName=$("#gss-signup-first-name")[0],r.lastName=$("#gss-signup-last-name")[0],r.email=$("#gss-signup-email")[0],r.password=$("#gss-signup-password")[0],r.passwordIcon=$("#gss-signup-password-icon")[0],r.passwordIconButton=$("#gss-signup-password-icon-button")[0],r.joinProgram=$("#gss-join-program-check")[0],r.submitButton=$("#gss-signup-submit")[0],r.gotoSignInButton=$("#gss-goto-signin")[0],r.facebookSignupButton=$("#gss-signup-login-facebook-button")[0],r.interstitial=$("#gss-signup-interstitial")[0],r.genericErrorMessage=$("#gss-signup-error-message")[0],r.duplicateEmail=$("#gss-signup-duplicate-email")[0],r.unregisteredAccount=$("#gss-signup-unregistered-account-exists")[0],r.joinProgramDiv=$("#gss-join-program")[0],r.joinProgram||(r.joinProgram={checked:!0})}function i(){s.container=$("#gss-signin-view")[0],s.email=$("#gss-signin-email")[0],s.password=$("#gss-signin-password")[0],s.passwordIcon=$("#gss-signin-password-icon")[0],s.keepMeSignIn=$("#gss-keep-signin-check")[0],s.submitButton=$("#gss-signin-submit")[0],s.gotoSignUpButton=$("#gss-goto-signup")[0],s.gotoForgotPasswordButton=$("#gss-go-to-forgot-password")[0],s.facebookSigninButton=$("#gss-signin-login-facebook-button")[0],s.captchaForm=document.forms["gss-signin-captcha"]}var n={common:{mdlCntId:"gss-modal-main-container",modalId:"gss-modal-01",activeView:null},init:function(){e(),i(),t()}},a=n.common,r=n.signUp={},s=n.signIn={};return n}),define("gss-view-handler",["gss-forms"],function(e){var t="visuallyhidden",i="gss-uitk-default",n="non-hero-img-container",a=e.common,r=e.signUp,s=e.signIn,o=!1;return{transitToSignIn:function(){this.activateView(s.container)},transitToSignUp:function(){this.activateView(r.container)},focus:function(){a.isDesktop&&o&&$(a.activeView).find("input[type=email],input[type=text]").filter(":visible:first").focus()},deactivateViews:function(){a.activeView&&a.activeView.classList&&(a.activeView.classList.add(t),a.uitkModalContainer.classList.remove(a.activeView.id),a.activeView=null,o=!1)},activateView:function(e){var r=a.uitkModalContainer.classList;this.deactivateViews(),e&&e.classList&&(e.classList.remove(t),r.remove(i),r.add(e.id),a.activeView=e,r&&("true"==e.dataset.heroImgEnabled?r.remove(n):r.add(n)),this.focus(),o=!0)},presentView:function(){return a.activeView&&a.activeView.classList?a.activeView.id:null}}}),require(["gc/abTest","gc/headerMessages","jquery"],function(e,t,i){var n=function(){return e.get(15215).value},a=t.packageHeaderLabelTextControl;switch(n()){case 1:a=t.packageHeaderLabelTextV1;break;case 2:a=t.packageHeaderLabelTextV2;break;case 3:a=t.packageHeaderLabelTextV3}i("#primary-header-package").html(a)}),define("gc/abTestRegistryOverride",function(){return[6070,6892,9016,8936,8937,8691,9257,9706,9415,9874,9875,9974,13582,15215]}),define("gc/headerMessages",[],function(){return{closeButtonLabel:"Close",supportMenuLink:"Support",customerSupportLink:"Customer Support",feedbackLink:"Feedback",accountMenuLink:"Account",signInLink:"Sign In",createAccountLink:"Create an Account",accountLink:"My Account",moreMenuLink:"More",rbcRewardsHome:"RBC Rewards Home",travelRewards:"Travel Rewards",availablePoints:"Available Points",signOutLink:"Sign Out",identifiedSignOutLink:"Not <span id='userGreetingNameSignOut'></span> ?","identifiedSignOutLink-v2":"Not <span id='userGreetingNameSignOut-v2'></span> ? </br> <span class='type-200'>Log in to your account</span>",scratchpadLink:"My Lists",tripsLink:"My Trips",taapTrackingCode:"Tracking Code",travelAgentTitle:"TRAVEL AGENT AFFILIATE PROGRAM",userGreeting:"<span class='nonArrangedUser hidden'>Hello, <span id='userGreetingName'></span></span> <span class='arrangedUser hidden'><span id='arrangedUserGreetingName'></span>'s Account</span>",arrangeeMessage:"Booking travel on behalf of <strong><span id='arrangee-first-name'></span> <span id='arrangee-last-name'></span></strong>",doneArrangingText:"Done",beginMainContent:"Beginning of main content",skipNavContent:"Skip to main content",shopTravel:"Shop Travel",getLowRatesOnHotelsLink:"Get lower rates on thousands of hotels.",rewardsLink:"My Rewards",zeroPointsLink:"0 points",joinExpediaRewardsLink:"Join Expedia+ rewards",createAccountInAccountIconLink:"or <a id='header-account-signup' href='/user/createaccount' data-onclick='xp.nav.trackAnalytics(this, &quot;a&quot;, &quot;Header.CreateAccount&quot;)'>create an {{0}} Account</a>",sessionExpiredButton:"Sign In",sessionExpiredPara:"Please sign back into RBC Rewards Travel.",sessionExpiredTitle:"You have been logged out of RBC Rewards Travel due to inactivity.",sessionLoading:"Loading",sessionWarningButton:"Extend Session",sessionWarningPara:"It's been a while since you were active on the site. Please extend your session below to continue shopping.",sessionWarningTitle:"Session Timeout Warning",packageHeaderLabelTextControl:"Bundle Deals",packageHeaderLabelTextV1:"Bundle and Save",packageHeaderLabelTextV2:"Build a Package",packageHeaderLabelTextV3:"Package Prices",spHeaderLink:"My Lists",spHeaderLink_1:"My Favorites",spHeaderLink_2:"My Lists",spHeaderLink_3:"My Shortlist",spHeaderLink_4:"Recently Viewed",spHeaderLink_5:"My Notes",spHeaderVariantLink:"Lists",spSpTrayBadgeOne:"You have 1 recently viewed item",spSpTrayBadgePlural:"You have {{count}} recently viewed items",spViewallitems:"View all {{count}} items",spViewscratchpadlink:"View your lists",spViewscratchpadlink_1:"View Favorites",spViewscratchpadlink_2:"View Lists",spViewscratchpadlink_3:"View Shortlist",spViewscratchpadlink_4:"View Recently Viewed",spViewscratchpadlink_5:"View Notes",spEmailaskstring:"Get price updates by email for your saved and recently viewed items.",spPageupdatesoffer:"Get price updates by email for your saved and recently viewed items.",spToolTipOff:"Get price updates by email for your saved and recently viewed items.",spTrackChanges:"Track changes",spSaveScratchpad:"Sign In or Create an Account to Keep",spEmailconfirmationstring:"You are receiving price updates for your saved and recently viewed items. Watch your inbox!",spToolTipOnJS:"You are receiving price updates for your saved and recently viewed items. Watch your inbox at {{userEmail}}.",spSavesuccessstring:"This search has been added to your recently viewed items.",spStandardGreeting:"Things you view while shopping are saved here.",spLoadingGreeting:"Loading your lists...",spLoadingGreeting_1:"loading your Favorites...",spLoadingGreeting_2:"loading your Lists...",spLoadingGreeting_3:"loading your Shortlist...",spLoadingGreeting_4:"loading your Recently Viewed...",spLoadingGreeting_5:"loading your Notes...",spSaveconfirmationstring:"Things you view while shopping are saved here. Pick up where you left off.",spOriginAirportToDestinationAirport:"{{departureAirportCode}} to {{arrivalAirportCode}}",spTimeRange:"{{startTime}} - {{endTime}}",spDateRange:"{{startDate}} - {{endDate}}",spAsOfDate:"as of {{lastSeenDate}}",spAsOfTime:"as of {{lastSeenTime}}",spPerPerson:"per person",spHotelSearchAvgPerNight:"avg per night",spHotelSearchAvgTotalRate:"avg total rate",spHotels:"{{destination}} hotels",spDaily:"daily",spWeekly:"weekly",spTotal:"total",spPerTraveler:"per traveler",spCruiseSearchPerNight:"per night",spCruiseSearchCruises:"Cruises",spCruiseSearchAllMonths:"All Months",spCruiseSearchAllDestinations:"All Cruise Destinations",spPricefrom:"from {{itemPrice}}",spSeePrice:"See price",spOneWay:"One way",spRoundtrip:"Round trip",spAirlineLogoAltText:"logo",spMultipleAirlinesLogoAltText:"Multiple Airlines logo",spPackageTitle:"{{packageDestination}} Packages",spPackageIncludes:"Flight and hotel included",spThing1PlusThing2:"{{item1}} + {{item2}}",spCarPackageItem:"car",spCarsAt:"Cars at {{destination}}",spCarsNear:"Cars near {{destination}}",nudgeEnrollmentTitle:"Get price and availability changes for hotels you view.",nudgeEnrollmentSubtitle:"We'll watch prices on your saved and recently viewed items for you.",nudgeEnrollmentAction:"Track Changes",nudgeEnrollmentSuccess:"You are receiving price updates for your recently saved and viewed items. Watch your inbox!",spPriceDownOne:"1 price dropped.",spPriceDownMany:"{{params.[0]}} prices dropped.",spPriceUpOne:"1 price increased.",spPriceUpMany:"{{params.[0]}} prices increased.",spPriceDownManyUpMany:"{{params.[0]}} prices dropped, {{params.[1]}} prices increased.",spPriceDownManyUpOne:"{{params.[0]}} prices dropped, {{params.[1]}} price increased.",spPriceDownOneUpMany:"{{params.[0]}} price dropped, {{params.[1]}} prices increased.",spPriceDownOneUpOne:"1 price dropped, 1 price increased.",seeWhatChanged:"See what’s changed",signInToSee:"Sign in to see your notifications.",scratchpadFoundUpdates:"There's a price update for at least one item you viewed recently.",somethingHasChanged:"Something’s changed!",welcome:"Welcome!",itinBouncedEmail:"We weren’t able to deliver your purchase confirmation email.",itinBouncedEmailLink:"View your itinerary online or resend",seeDetails:"See details",itemsChanged:"Items you viewed have changed!",noNotifications:"All caught up!",noNotificationsPartTwo:"No new notifications right now.",spMemberDealsSignUp:"Sign Up Now",spMemberRewardsSignUp:"Join Now",rewardsHotelCouponAvailability:"You have a {{params.[0]}} coupon available. Use it on your next hotel booking and save!",rewardsVIPCouponAvailability:"You have a {{params.[0]}} +VIP Access coupon available. Use it on your next hotel booking and save!",rewardsHotelCouponAvailabilityLink:"Shop hotels",rewardsVIPCouponAvailabilityLink:"Shop +VIP Access hotels",rewardsHotelCouponExpirationLinkV2:"Visit your account",rewardsHotelCouponExpirationV1:"Your {{params.[0]}} coupon expires on {{params.[1]}}!&lt;br&gt;Book now to make sure you get your rewards.",rewardsHotelCouponExpirationV2:"You have a coupon that’s expiring soon. Check your account for more details.",rewardsTierLink:"See&lt;br&gt;your new benefits",rewardsOneAwayLink:"See all the perks",rewardsGoldUpgradeLink:"See your new benefits",rewardsPointExpirationLink:"Redeem now",rewardsPayWithPointsLearnMoreLink:"Learn More",rewardsNewBadge:"NEW!",spAccessibleBellIcon:"Your notifications",spAccessibleBadgeOne:"You have 1 notification",spAccessibleBadgePlural:"You have #### notifications",spAccessibleNotifClose:"Close",addChromeExtensionNotificationMessage:"The official Expedia Member Only Deals extension is here! Stay connected and get your 10% off with member pricing.",addChromeExtensionNotificationLink:"Add to Chrome",spSwitchToAarp:"Get AARP Member discounts on AARP Travel Center",exclusiveDealsMsg:"Sign in to see exclusive Member Pricing.",newCreateAccountLink:"New? <span>Create an Account</span>",TAAPWelcomeMessage:"Welcome to Expedia Travel Agent Affiliate Program. You’re eligible to earn commission on your purchases!",TAAPWelcomeMessageLeanMoreLink:"Learn more about our incentives.",flightMIPGTMsg:"Exclusive offer: Your flight booking just unlocked up to 20% off ground transportation!",flightMIPActivityMsg:"Exclusive offer: Your flight booking just unlocked up to 20% off activities!",flightMIPActivityMsgCTC:"See Things to Do",flightMIPGTMsgCTC:"See Transportation",TAAPGBVRemainingMessageSilver:"You’re <b>{{params.[0]}}</b> away from reaching the Silver level - higher commission on hotels, car rentals and activities.",TAAPGBVRemainingMessageGold:"You’re <b>{{params.[0]}}</b> away from reaching the Gold level - higher commission on hotels, car rentals and activities.",TAAPGBVRemainingMessagePlatinum:"You’re <b>{{params.[0]}}</b> away from reaching the Platinum level - higher commission on hotels, car rentals and activities.",TAAPGBVRemainingLink:"See our incentive plans",promisingText:"Price Guarantee",downloadText:"Download the free app",pointsText:"Earn 2x {{brand}} points on all bookings",DEpointsText:"Book on the go.",TravelocitydownloadText:"Get 15% off hotels in app",TravelocitypointsText:"Download the app & use code <b>MOB15</b> to save 15% on select hotels",OrbitzdownloadText:"Download the free app",OrbitzpointsText:"Earn 5% back in app + save 15% on select hotels with code <b>APP15</b>",CheapTicketsdownloadText:"Become a travel ninja",CheapTicketspointsText:"Book on the go and stay connected with real-time trip updates on the app",eBookersdownloadText:"Get app-exclusive deals",eBookerspointsText:"Earn up to 5% back in BONUS+ rewards",WotifdownloadText:"Take a shortcut to your next trip",WotifpointsText:"Get the Wotif App and book on the go",speedbumpTitle:"You're continuing to another website",speedbumpMessage:"You're continuing to another website that we do not own or operate. Its owner is solely responsible for the website's content, offerings and level of security, so please refer to the website's posted privacy policy and terms of use.",speedbumpButtonContinue:"Continue",speedbumpButtonReturn:"Return"}}),window.location.hostname.indexOf("travelocity")>-1)var channelTrackingAlreadyLoaded=!0;if("undefined"==typeof channelTrackingAlreadyLoaded){var channelTrackingAlreadyLoaded=!0,emptyAsppCookie="v.1,0|||||||||||||",SEO_SOURCES={"www.google.":[!0,null],"search.yahoo.com":[!0,null],"wrs.yahoo.com":[!0,null],"rc12.overture.com":[!0,!1],"bing.com/search":[!0,null],"terra.es":[!0,null],"ya.com":[!0,null],"ricerca.virgilio.it":[!0,null],"iltrovatore.it":[!0,null],"213.215.201.230":[!0,null],"orange.fr":[!0,null],"lycos.":[!0,null],"ask.com":[!0,null],"search.aol.":[!0,null],"askjeeves.":[!0,null],"myway.com":[!0,null],altavista:[!0,null],baidu:[!0,null],"daum.net":[!0,null],"mywebsearch.com":[!0,null],"naver.com":[!0,null],"suche.web.de":[!0,null],"mvirgilio.it":[!0,null],yandex:[!0,null]},CHANNEL_TYPES="(AFF|OLA|EML|MDP|SEM|OFF|MSN|ICM|SEO|AFM)";if("undefined"!=typeof qUnitTestRun&&null!=qUnitTestRun)var stub=sinon.stub(this,"getDomainLegacy",function(){return["://www.testDomain.com","www.","testDomain.com"]});var tracking_array_contains=function(e,t){for(var i=e.length;i--;)if(e[i]===t)return!0;return!1},ClearMediaCookieIfItIsTickSeparated=function(){var e="p1=",t=document.cookie.indexOf(e);if(t==-1){var i="MediaCookie=",n=document.cookie.indexOf(i);if(n>=0){var a=n+i.length+1,r=document.cookie.indexOf(";",a);r==-1&&(r=document.cookie.length);var s=a+1;if(s<r){var o=document.cookie.substring(a,s);if("`"==o){var c=new Date((new Date).setTime((new Date).getTime())),l=getDomainLegacy(location.href);l>""&&(l=l[2]?l[2]:"",document.cookie=i+"; expires="+c.toUTCString()+"; domain=."+l+"; path=/")}}}}},GetChannelSpecificCode=function(e,t){var i=/(?:cuid|tduid)=([^&]*)/i,n=t;return i.test(location.search)&&(n=i.exec(location.search)[1]),n},getChannelSpecificConversionID=function(e){var t=/(?:mdpdtl|oladtl|afflid|icmdtl)=([^&]*)/i,i="";return i=t.test(location.search)?t.exec(location.search)[1]:e},IsLockedCode=function(e,t,i,n){return t&&""!=t&&"wpk"==t.slice(0,3)&&"wpk"!=n.slice(0,3)},GetASPPersistentCookie=function(){var e=document.cookie.indexOf("aspp="),t=e+5;if(!e&&"aspp"!=document.cookie.substring(0,4))return null;if(e==-1)return null;var i=document.cookie.indexOf(";",t);return i==-1&&(i=document.cookie.length),document.cookie.substring(t,i)},SetASPPersistentCookie=function(e){ExpireASPPCookieInParentDomain();var t=new Date((new Date).setTime((new Date).getTime()+15768e7)),i=getDomainLegacy(location.href);i>""?(i=i[2]?i[2]:"",document.cookie="aspp="+e+"; expires="+t.toUTCString()+"; domain=."+i+"; path=/"):document.cookie="aspp="+e+"; expires="+t.toUTCString()+"; path=/",null!=i&&""!=i||("undefined"!=typeof dctk?dctk.loggingAdapter.logMessage("channelTrackingCookieDomainEmpty",["url="+encodeURIComponent(location.href),"cookies="+encodeURIComponent(document.cookie)]):"undefined"!=typeof expClientLogging&&expClientLogging.logMessage("channelTrackingCookieDomainEmpty",["url="+encodeURIComponent(location.href),"cookies="+encodeURIComponent(document.cookie)]))},getCookie=function(e){var t=RegExp("(?:^| |;)"+e+"=([^ ;]*)","i"),i=t.exec(document.cookie);return null==i||i.length<=1?null:i[1]},setAspCookie=function(e,t){if(null!=t&&null!=e){var i=t?"aspp":"asps",n=getDomain(location.href),a=t?new Date((new Date).setTime((new Date).getTime()+15768e7)):null,r="/";t&&ExpireASPPCookieInParentDomain();var s=i+"="+e+"; ";null!=a&&(s+="expires="+a.toUTCString()+"; "),n>""&&"localhost"!=n&&(s+="domain=."+n+"; "),s+="path="+r,document.cookie=s,null!=n&&""!=n||("undefined"!=typeof dctk?dctk.loggingAdapter.logMessage("channelTrackingCookieDomainEmpty",["url="+encodeURIComponent(location.href),"cookies="+encodeURIComponent(document.cookie)]):"undefined"!=typeof expClientLogging&&expClientLogging.logMessage("channelTrackingCookieDomainEmpty",["url="+encodeURIComponent(location.href),"cookies="+encodeURIComponent(document.cookie)]))}},ExpireASPPCookieInParentDomain=function(){var e=new Date((new Date).setTime((new Date).getTime()-15768e7)),t=getDomainLegacy(location.href);t=t[2]?t[2]:"",t>""&&(document.cookie="aspp=; expires="+e.toUTCString()+"; path=/")},GetCookieValue=function(e,t,i){null==i&&(i=","),e+="=";var n=document.cookie.indexOf(e),a=n+e.length;if(!n&&e!=document.cookie.substring(0,e.length))return"";if(n==-1)return"";var r=document.cookie.indexOf(";",a);r==-1&&(r=document.cookie.length);var s=document.cookie.substring(a,r),o=s.split(i);return null!=o[t]?o[t]:null},GetP1CookieTpid=function(){var e="p1=",t=document.cookie.indexOf(e),i=t+e.length;if(t==-1)return GetCookieValue("tpid",1);var n=document.cookie.indexOf(";",i);n==-1&&(n=document.cookie.length);for(var a=document.cookie.substring(i,n).split("`"),r=0;r<a.length;r++)if(a[r].indexOf("tpid")!=-1)return a[r].split(",")[1]},isValidASPPCookie=function(e){var t=/v\..*\|.*\|.*\|.*\|.*\|.*\|.*\|.*\|.*\|.*\|.*\|.*/i,i=t.exec(e);return!!i},captureZanpid=function(e){var t=getZanpids(e),i=getCookie("asps");if(!(t.length<1)){if(!isValidAspsCookie(i))return i="0||||||0|"+t.toString(),void setAspCookie(i,!1);var n=i.split("|");n[7]=t.toString(),i="";for(var a=0;a<n.length;a++)i+=n[a]+"|";setAspCookie(i.substring(0,i.length-1),!1)}},getZanpids=function(e){for(var t,i=/zanpid=([^&]*)/gi,n=[];t=i.exec(e);)t.length>1&&""!=t[1]&&n.push(t[1]);return n},isValidAspsCookie=function(e){var t=/.*\|.*\|.*\|.*\|.*\|.*\|.*\|.*/i;return null!=e&&e>""&&t.test(e)},getDomainLegacy=function(e){var t=e.match(/:\/\/(www\.)?([^\/:]+)/);return t},getDomain=function(e){var t=null!=e?e.match(/:\/\/(?:www\.)?([^\/:]+)/):"";return null==t||t.length<=1?"":t[1]},checkIfEmailInString=function(e){var t=/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/;return t.test(e)},getValueOfCookie=function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(a=a.replace(" ",""),a.indexOf(t)!=-1)return a.substring(t.length,a.length)}return""},deleteCookie=function(e){for(var t=document.cookie.split(";"),i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1);n=n.replace(" ","");for(var a=0;a<e.length;a++)if(n.indexOf(e[a])!=-1&&n.length>300){var r=new Date((new Date).setTime((new Date).getTime()-15768e7)),s=getDomainLegacy(location.href);return s=s[2]?s[2]:"",void(s>""?document.cookie=n.split("=")[0]+"= ;expires="+r.toUTCString()+"; domain=."+s+"; path=/":document.cookie=n.split("=")[0]+"= ;expires="+r.toUTCString()+"; path=/")}}};ClearMediaCookieIfItIsTickSeparated();var tpid=GetP1CookieTpid(),eapid=GetCookieValue("iEAPID",0),ChannelType="",ChannelID="",ASPPersistentCookie="";GetASPPersistentCookie()>""&&isValidASPPCookie(GetASPPersistentCookie())||SetASPPersistentCookie("v.1,0|||||||||||||");var previousChannelID=GetCookieValue("aspp",1,"|"),previousChannelType=GetCookieValue("aspp",10,"|"),referrerAddress=document.referrer;if(""!=referrerAddress&&previousChannelID&&""!=previousChannelID&&"wpk"!=previousChannelID.slice(0,3).toLowerCase()&&(20==tpid||previousChannelType&&""!=previousChannelType&&"aff"!=previousChannelType.toLowerCase())){var clearSeocid=!1,clearCookie=!1;for(var site in SEO_SOURCES)referrerAddress.toLowerCase().indexOf(site)>-1&&(clearSeocid=SEO_SOURCES[site][0],clearCookie=null==SEO_SOURCES[site][1]?referrerAddress.toLowerCase().indexOf("semcid")==-1:SEO_SOURCES[site][1]);if(clearCookie&&SetASPPersistentCookie("v.1,0|||||||||||||"),clearSeocid){var urlAndQueryAttributes=window.location.toString().split("?");if(urlAndQueryAttributes.length>1){for(var url=urlAndQueryAttributes[0],queryAttributes=urlAndQueryAttributes[1].split("&"),relocate=!1,index=0;index<queryAttributes.length;index++)queryAttributes[index].toLowerCase().indexOf("seocid")==-1?(url+=0==index?"?":"&",url+=queryAttributes[index]):relocate=!0;1==relocate&&(window.location=url)}}}!function(){var e=new RegExp(CHANNEL_TYPES+"cid=([^&]*)","i"),t=e.exec(window.location.search);if(t||(t=e.exec(window.location.hash)),t||(t=e.exec(document.referrer)),t&&(ChannelType=t[1].toUpperCase(),ChannelID=escape(t[2]),""!==ChannelID&&(ASPPersistentCookie=GetASPPersistentCookie(),!ASPPersistentCookie>""&&(SetASPPersistentCookie(emptyAsppCookie),ASPPersistentCookie=GetASPPersistentCookie()),!IsLockedCode(previousChannelType,previousChannelID,ChannelType,ChannelID)))){var i=new Date((new Date).setTime((new Date).getTime()+2592e6)),n=i.getFullYear().toString(),a=(i.getMonth()+1).toString();a.length<2&&(a="0"+a);var r=i.getDate().toString();r.length<2&&(r="0"+r);var s=n+a+r,o=ASPPersistentCookie.split("|");o[1]=ChannelID,o[10]=ChannelType,o[11]=s,o[12]=GetChannelSpecificCode(ChannelID,o[12]),o[13]=getChannelSpecificConversionID(o[13]),ASPPersistentCookie="";for(var c=0;c<o.length;c++)ASPPersistentCookie+=o[c]+"|";ASPPersistentCookie=ASPPersistentCookie.substring(0,ASPPersistentCookie.length-1),checkIfEmailInString(ASPPersistentCookie)&&(ASPPersistentCookie=emptyAsppCookie),SetASPPersistentCookie(ASPPersistentCookie)}var l=getValueOfCookie("aspp");if(checkIfEmailInString(l)&&(l=emptyAsppCookie,SetASPPersistentCookie(l)),null!=l&&0!=l.length&&l.split("|").length>14){var d=l.substring(0,l.indexOf(l.split("|")[14])-1);SetASPPersistentCookie(d)}var u=["_tq_ref","mvthistory"];deleteCookie(u),window.location.search.search(/zanpid/i)>-1&&captureZanpid(window.location.search)}(),location.search.indexOf("cntrkrdebug")>-1&&window.console&&window.console.log&&console.log("Previous Channel Type: "+previousChannelType+"\n Previous Channel ID: "+previousChannelID+"\n Current Channel Type: "+ChannelType+"\n Current Channel ID: "+ChannelID+"\n ASPP Cookie Value: "+getCookie("aspp")+"\n ASPS Cookie Value: "+getCookie("asps"))}require(["jquery","gc/abTest","gc/pageModel"],function(e,t,i){function n(){if(e("#t2d-footer-container").length)if(1==t.get(15252,null,!0).value){var n=document.createElement("script"),r="desktop";Modernizr.appleios?r="iOS":Modernizr.android&&(r="Android");var s=["/mad-service/globalControls/gcFooter?containerId=mad-footer-container"];s.push("&siteid="),s.push(i.site.id),s.push("&locale="),s.push(i.site.locale),s.push("&pageName=gc.footer"),s.push("&os="),s.push(r),n.setAttribute("src",s.join("")),document.head.appendChild(n)}else 1==t.get(14135,null,!0).value&&(a(),y(),e("#t2d-footer-form button").click(p),e("#t2d-footer-container").show())}function a(){r("#t2d-footer-error-international","countryName",d()),r("#t2d-footer-error-international","phoneNumberFormat",u()),r("#t2d-footer-error-validation","phoneNumberFormat",u())}function r(t,i,n){var a=e(t).text(),r=new RegExp("{{"+i+"}}","g");a=a.replace(r,n),e(t).text(a)}function s(){return e("#t2d-footer-form-input").val()}function o(){return e("#t2d-footer-form").attr("data-valid-phone-min-length")}function c(){return e("#t2d-footer-form").attr("data-valid-phone-max-length")}function l(){return e("#t2d-footer-form").attr("data-country-phone-prefix")}function d(){return e("#t2d-footer-form").attr("data-country-name")}function u(){return e("#t2d-footer-form").attr("data-phone-number-format")}function p(){g();var e=h();e&&m(e)}function g(){e("#t2d-footer-success").hide(),e("#t2d-footer-error").hide(),e("#t2d-footer-error-duplication").hide(),e("#t2d-footer-error-service").hide(),e("#t2d-footer-error-validation").hide(),e("#t2d-footer-error-international").hide()}function h(){var e=s();e=e.replace(/\D/g,""),e=e.replace(/^0*/,"");var t=o(),i=c();if(e.length<t)return v("validation");if(e.length>i){var n=new RegExp("^"+l());if(e=e.replace(n,""),e.length<t||e.length>i)return v("international")}return e}function m(t){var n=1==i.site.id?"app_61":"app_60",a={url:"/T2DGenProxy?serviceID=TXT_MOBILEAPP_LINK",type:"POST",dataType:"json",data:{mobile_phone:t,data_app:n,country_calling_code:l()},success:w,error:f};e.ajax(a)}function f(e){var t=e.responseText;v(t.toLowerCase().indexOf("has already received 3 messages in 24 hours")>=0?"duplication":"service")}function v(t){e("#t2d-footer-error").show(),e("#t2d-footer-error-"+t).show()}function w(){e("#t2d-footer-success").show(),e("#t2d-footer-form input").attr("value","")}function y(){Modernizr.appleios?b("ios","mobile"):Modernizr.android?b("android","mobile"):(b("ios","desktop"),b("android","desktop"),e("#t2d-footer-form").css("display","block"),e("#t2d-footer-form-legal").css("display","block"))}function b(t,i){e("#t2d-footer-app-stores-"+t+"-"+i).css("display","inline")}e(document).ready(n)}),require(["gc/abTest","jquery"],function(e,t){1===e.get(14541,null,!0).value&&t("#partner-add-hotel-container").show()});
//# sourceMappingURL=globalcontrols-min.js.map
